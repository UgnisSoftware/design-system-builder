!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){!function(global){"use strict";function bigFactory(){function Big(n){var x=this;if(!(x instanceof Big))return void 0===n?bigFactory():new Big(n);n instanceof Big?(x.s=n.s,x.e=n.e,x.c=n.c.slice()):parse(x,n),x.constructor=Big}return Big.prototype=P,Big.DP=DP,Big.RM=RM,Big.E_NEG=E_NEG,Big.E_POS=E_POS,Big}function format(x,dp,toE){var Big=x.constructor,i=dp-(x=new Big(x)).e,c=x.c;for(c.length>++dp&&rnd(x,i,Big.RM),c[0]?toE?i=dp:(c=x.c,i=x.e+i+1):++i;c.length<i;c.push(0));return i=x.e,1===toE||toE&&(dp<=i||i<=Big.E_NEG)?(x.s<0&&c[0]?"-":"")+(c.length>1?c[0]+"."+c.join("").slice(1):c[0])+(i<0?"e":"e+")+i:x.toString()}function parse(x,n){var e,i,nL;for(0===n&&1/n<0?n="-0":isValid.test(n+="")||throwErr(NaN),x.s="-"==n.charAt(0)?(n=n.slice(1),-1):1,(e=n.indexOf("."))>-1&&(n=n.replace(".","")),(i=n.search(/e/i))>0?(e<0&&(e=i),e+=+n.slice(i+1),n=n.substring(0,i)):e<0&&(e=n.length),i=0;"0"==n.charAt(i);i++);if(i==(nL=n.length))x.c=[x.e=0];else{for(;"0"==n.charAt(--nL););for(x.e=e-i-1,x.c=[],e=0;i<=nL;x.c[e++]=+n.charAt(i++));}return x}function rnd(x,dp,rm,more){var u,xc=x.c,i=x.e+dp+1;if(1===rm?more=xc[i]>=5:2===rm?more=xc[i]>5||5==xc[i]&&(more||i<0||xc[i+1]!==u||1&xc[i-1]):3===rm?more=more||xc[i]!==u||i<0:(more=!1,0!==rm&&throwErr("!Big.RM!")),i<1||!xc[0])more?(x.e=-dp,x.c=[1]):x.c=[x.e=0];else{if(xc.length=i--,more)for(;++xc[i]>9;)xc[i]=0,i--||(++x.e,xc.unshift(1));for(i=xc.length;!xc[--i];xc.pop());}return x}function throwErr(message){var err=new Error(message);throw err.name="BigError",err}var Big,DP=20,RM=1,E_NEG=-7,E_POS=21,P={},isValid=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;P.abs=function(){var x=new this.constructor(this);return x.s=1,x},P.cmp=function(y){var xNeg,x=this,xc=x.c,yc=(y=new x.constructor(y)).c,i=x.s,j=y.s,k=x.e,l=y.e;if(!xc[0]||!yc[0])return xc[0]?i:yc[0]?-j:0;if(i!=j)return i;if(xNeg=i<0,k!=l)return k>l^xNeg?1:-1;for(i=-1,j=(k=xc.length)<(l=yc.length)?k:l;++i<j;)if(xc[i]!=yc[i])return xc[i]>yc[i]^xNeg?1:-1;return k==l?0:k>l^xNeg?1:-1},P.div=function(y){var x=this,Big=x.constructor,dvd=x.c,dvs=(y=new Big(y)).c,s=x.s==y.s?1:-1,dp=Big.DP;if((dp!==~~dp||dp<0||dp>1e6)&&throwErr("!Big.DP!"),!dvd[0]||!dvs[0])return dvd[0]==dvs[0]&&throwErr(NaN),dvs[0]||throwErr(s/0),new Big(0*s);var dvsL,dvsT,next,cmp,remI,u,dvsZ=dvs.slice(),dvdI=dvsL=dvs.length,dvdL=dvd.length,rem=dvd.slice(0,dvsL),remL=rem.length,q=y,qc=q.c=[],qi=0,digits=dp+(q.e=x.e-y.e)+1;for(q.s=s,s=digits<0?0:digits,dvsZ.unshift(0);remL++<dvsL;rem.push(0));do{for(next=0;next<10;next++){if(dvsL!=(remL=rem.length))cmp=dvsL>remL?1:-1;else for(remI=-1,cmp=0;++remI<dvsL;)if(dvs[remI]!=rem[remI]){cmp=dvs[remI]>rem[remI]?1:-1;break}if(!(cmp<0))break;for(dvsT=remL==dvsL?dvs:dvsZ;remL;){if(rem[--remL]<dvsT[remL]){for(remI=remL;remI&&!rem[--remI];rem[remI]=9);--rem[remI],rem[remL]+=10}rem[remL]-=dvsT[remL]}for(;!rem[0];rem.shift());}qc[qi++]=cmp?next:++next,rem[0]&&cmp?rem[remL]=dvd[dvdI]||0:rem=[dvd[dvdI]]}while((dvdI++<dvdL||rem[0]!==u)&&s--);return qc[0]||1==qi||(qc.shift(),q.e--),qi>digits&&rnd(q,dp,Big.RM,rem[0]!==u),q},P.eq=function(y){return!this.cmp(y)},P.gt=function(y){return this.cmp(y)>0},P.gte=function(y){return this.cmp(y)>-1},P.lt=function(y){return this.cmp(y)<0},P.lte=function(y){return this.cmp(y)<1},P.sub=P.minus=function(y){var i,j,t,xLTy,x=this,Big=x.constructor,a=x.s,b=(y=new Big(y)).s;if(a!=b)return y.s=-b,x.plus(y);var xc=x.c.slice(),xe=x.e,yc=y.c,ye=y.e;if(!xc[0]||!yc[0])return yc[0]?(y.s=-b,y):new Big(xc[0]?x:0);if(a=xe-ye){for((xLTy=a<0)?(a=-a,t=xc):(ye=xe,t=yc),t.reverse(),b=a;b--;t.push(0));t.reverse()}else for(j=((xLTy=xc.length<yc.length)?xc:yc).length,a=b=0;b<j;b++)if(xc[b]!=yc[b]){xLTy=xc[b]<yc[b];break}if(xLTy&&(t=xc,xc=yc,yc=t,y.s=-y.s),(b=(j=yc.length)-(i=xc.length))>0)for(;b--;xc[i++]=0);for(b=i;j>a;){if(xc[--j]<yc[j]){for(i=j;i&&!xc[--i];xc[i]=9);--xc[i],xc[j]+=10}xc[j]-=yc[j]}for(;0===xc[--b];xc.pop());for(;0===xc[0];)xc.shift(),--ye;return xc[0]||(y.s=1,xc=[ye=0]),y.c=xc,y.e=ye,y},P.mod=function(y){var yGTx,x=this,Big=x.constructor,a=x.s,b=(y=new Big(y)).s;return y.c[0]||throwErr(NaN),x.s=y.s=1,yGTx=1==y.cmp(x),x.s=a,y.s=b,yGTx?new Big(x):(a=Big.DP,b=Big.RM,Big.DP=Big.RM=0,x=x.div(y),Big.DP=a,Big.RM=b,this.minus(x.times(y)))},P.add=P.plus=function(y){var t,x=this,Big=x.constructor,a=x.s,b=(y=new Big(y)).s;if(a!=b)return y.s=-b,x.minus(y);var xe=x.e,xc=x.c,ye=y.e,yc=y.c;if(!xc[0]||!yc[0])return yc[0]?y:new Big(xc[0]?x:0*a);if(xc=xc.slice(),a=xe-ye){for(a>0?(ye=xe,t=yc):(a=-a,t=xc),t.reverse();a--;t.push(0));t.reverse()}for(xc.length-yc.length<0&&(t=yc,yc=xc,xc=t),a=yc.length,b=0;a;)b=(xc[--a]=xc[a]+yc[a]+b)/10|0,xc[a]%=10;for(b&&(xc.unshift(b),++ye),a=xc.length;0===xc[--a];xc.pop());return y.c=xc,y.e=ye,y},P.pow=function(n){var x=this,one=new x.constructor(1),y=one,isNeg=n<0;for((n!==~~n||n<-1e6||n>1e6)&&throwErr("!pow!"),n=isNeg?-n:n;1&n&&(y=y.times(x)),n>>=1;)x=x.times(x);return isNeg?one.div(y):y},P.round=function(dp,rm){var x=this,Big=x.constructor;return null==dp?dp=0:(dp!==~~dp||dp<0||dp>1e6)&&throwErr("!round!"),rnd(x=new Big(x),dp,null==rm?Big.RM:rm),x},P.sqrt=function(){var estimate,r,approx,x=this,Big=x.constructor,xc=x.c,i=x.s,e=x.e,half=new Big("0.5");if(!xc[0])return new Big(x);i<0&&throwErr(NaN),i=Math.sqrt(x.toString()),0===i||i===1/0?(estimate=xc.join(""),estimate.length+e&1||(estimate+="0"),r=new Big(Math.sqrt(estimate).toString()),r.e=((e+1)/2|0)-(e<0||1&e)):r=new Big(i.toString()),i=r.e+(Big.DP+=4);do{approx=r,r=half.times(approx.plus(x.div(approx)))}while(approx.c.slice(0,i).join("")!==r.c.slice(0,i).join(""));return rnd(r,Big.DP-=4,Big.RM),r},P.mul=P.times=function(y){var c,x=this,Big=x.constructor,xc=x.c,yc=(y=new Big(y)).c,a=xc.length,b=yc.length,i=x.e,j=y.e;if(y.s=x.s==y.s?1:-1,!xc[0]||!yc[0])return new Big(0*y.s);for(y.e=i+j,a<b&&(c=xc,xc=yc,yc=c,j=a,a=b,b=j),c=new Array(j=a+b);j--;c[j]=0);for(i=b;i--;){for(b=0,j=a+i;j>i;)b=c[j]+yc[i]*xc[j-i-1]+b,c[j--]=b%10,b=b/10|0;c[j]=(c[j]+b)%10}for(b&&++y.e,c[0]||c.shift(),i=c.length;!c[--i];c.pop());return y.c=c,y},P.toString=P.valueOf=P.toJSON=function(){var x=this,Big=x.constructor,e=x.e,str=x.c.join(""),strL=str.length;if(e<=Big.E_NEG||e>=Big.E_POS)str=str.charAt(0)+(strL>1?"."+str.slice(1):"")+(e<0?"e":"e+")+e;else if(e<0){for(;++e;str="0"+str);str="0."+str}else if(e>0)if(++e>strL)for(e-=strL;e--;str+="0");else e<strL&&(str=str.slice(0,e)+"."+str.slice(e));else strL>1&&(str=str.charAt(0)+"."+str.slice(1));return x.s<0&&x.c[0]?"-"+str:str},P.toExponential=function(dp){return null==dp?dp=this.c.length-1:(dp!==~~dp||dp<0||dp>1e6)&&throwErr("!toExp!"),format(this,dp,1)},P.toFixed=function(dp){var str,x=this,Big=x.constructor,neg=Big.E_NEG,pos=Big.E_POS;return Big.E_NEG=-(Big.E_POS=1/0),null==dp?str=x.toString():dp===~~dp&&dp>=0&&dp<=1e6&&(str=format(x,x.e+dp),x.s<0&&x.c[0]&&str.indexOf("-")<0&&(str="-"+str)),Big.E_NEG=neg,Big.E_POS=pos,str||throwErr("!toFix!"),str},P.toPrecision=function(sd){return null==sd?this.toString():((sd!==~~sd||sd<1||sd>1e6)&&throwErr("!toPre!"),format(this,sd-1,2))},Big=bigFactory(),"function"==typeof define&&define.amd?define(function(){return Big}):void 0!==module&&module.exports?module.exports=Big:global.Big=Big}(this)},{}],2:[function(require,module,exports){!function(){"use strict";function FastClick(layer,options){var oldOnClick;if(options=options||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=options.touchBoundary||10,this.layer=layer,this.tapDelay=options.tapDelay||200,this.tapTimeout=options.tapTimeout||700,!FastClick.notNeeded(layer)){for(var methods=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],context=this,i=0,l=methods.length;i<l;i++)context[methods[i]]=function(method,context){return function(){return method.apply(context,arguments)}}(context[methods[i]],context);deviceIsAndroid&&(layer.addEventListener("mouseover",this.onMouse,!0),layer.addEventListener("mousedown",this.onMouse,!0),layer.addEventListener("mouseup",this.onMouse,!0)),layer.addEventListener("click",this.onClick,!0),layer.addEventListener("touchstart",this.onTouchStart,!1),layer.addEventListener("touchmove",this.onTouchMove,!1),layer.addEventListener("touchend",this.onTouchEnd,!1),layer.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(layer.removeEventListener=function(type,callback,capture){var rmv=Node.prototype.removeEventListener;"click"===type?rmv.call(layer,type,callback.hijacked||callback,capture):rmv.call(layer,type,callback,capture)},layer.addEventListener=function(type,callback,capture){var adv=Node.prototype.addEventListener;"click"===type?adv.call(layer,type,callback.hijacked||(callback.hijacked=function(event){event.propagationStopped||callback(event)}),capture):adv.call(layer,type,callback,capture)}),"function"==typeof layer.onclick&&(oldOnClick=layer.onclick,layer.addEventListener("click",function(event){oldOnClick(event)},!1),layer.onclick=null)}}var deviceIsWindowsPhone=navigator.userAgent.indexOf("Windows Phone")>=0,deviceIsAndroid=navigator.userAgent.indexOf("Android")>0&&!deviceIsWindowsPhone,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent)&&!deviceIsWindowsPhone,deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS [6-7]_\d/.test(navigator.userAgent),deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0;FastClick.prototype.needsClick=function(target){switch(target.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(target.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===target.type||target.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(target.className)},FastClick.prototype.needsFocus=function(target){switch(target.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(target.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!target.disabled&&!target.readOnly;default:return/\bneedsfocus\b/.test(target.className)}},FastClick.prototype.sendClick=function(targetElement,event){var clickEvent,touch;document.activeElement&&document.activeElement!==targetElement&&document.activeElement.blur(),touch=event.changedTouches[0],clickEvent=document.createEvent("MouseEvents"),clickEvent.initMouseEvent(this.determineEventType(targetElement),!0,!0,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,!1,!1,!1,!1,0,null),clickEvent.forwardedTouchEvent=!0,targetElement.dispatchEvent(clickEvent)},FastClick.prototype.determineEventType=function(targetElement){return deviceIsAndroid&&"select"===targetElement.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(targetElement){var length;deviceIsIOS&&targetElement.setSelectionRange&&0!==targetElement.type.indexOf("date")&&"time"!==targetElement.type&&"month"!==targetElement.type?(length=targetElement.value.length,targetElement.setSelectionRange(length,length)):targetElement.focus()},FastClick.prototype.updateScrollParent=function(targetElement){var scrollParent,parentElement;if(!(scrollParent=targetElement.fastClickScrollParent)||!scrollParent.contains(targetElement)){parentElement=targetElement;do{if(parentElement.scrollHeight>parentElement.offsetHeight){scrollParent=parentElement,targetElement.fastClickScrollParent=parentElement;break}parentElement=parentElement.parentElement}while(parentElement)}scrollParent&&(scrollParent.fastClickLastScrollTop=scrollParent.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(eventTarget){return eventTarget.nodeType===Node.TEXT_NODE?eventTarget.parentNode:eventTarget},FastClick.prototype.onTouchStart=function(event){var targetElement,touch,selection;if(event.targetTouches.length>1)return!0;if(targetElement=this.getTargetElementFromEventTarget(event.target),touch=event.targetTouches[0],deviceIsIOS){if(selection=window.getSelection(),selection.rangeCount&&!selection.isCollapsed)return!0;if(!deviceIsIOS4){if(touch.identifier&&touch.identifier===this.lastTouchIdentifier)return event.preventDefault(),!1;this.lastTouchIdentifier=touch.identifier,this.updateScrollParent(targetElement)}}return this.trackingClick=!0,this.trackingClickStart=event.timeStamp,this.targetElement=targetElement,this.touchStartX=touch.pageX,this.touchStartY=touch.pageY,event.timeStamp-this.lastClickTime<this.tapDelay&&event.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(event){var touch=event.changedTouches[0],boundary=this.touchBoundary;return Math.abs(touch.pageX-this.touchStartX)>boundary||Math.abs(touch.pageY-this.touchStartY)>boundary},FastClick.prototype.onTouchMove=function(event){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(event.target)||this.touchHasMoved(event))&&(this.trackingClick=!1,this.targetElement=null),!0)},FastClick.prototype.findControl=function(labelElement){return void 0!==labelElement.control?labelElement.control:labelElement.htmlFor?document.getElementById(labelElement.htmlFor):labelElement.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(event){var forElement,trackingClickStart,targetTagName,scrollParent,touch,targetElement=this.targetElement;if(!this.trackingClick)return!0;if(event.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(event.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=event.timeStamp,trackingClickStart=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(touch=event.changedTouches[0],targetElement=document.elementFromPoint(touch.pageX-window.pageXOffset,touch.pageY-window.pageYOffset)||targetElement,targetElement.fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(targetTagName=targetElement.tagName.toLowerCase())){if(forElement=this.findControl(targetElement)){if(this.focus(targetElement),deviceIsAndroid)return!1;targetElement=forElement}}else if(this.needsFocus(targetElement))return event.timeStamp-trackingClickStart>100||deviceIsIOS&&window.top!==window&&"input"===targetTagName?(this.targetElement=null,!1):(this.focus(targetElement),this.sendClick(targetElement,event),deviceIsIOS&&"select"===targetTagName||(this.targetElement=null,event.preventDefault()),!1);return!(!deviceIsIOS||deviceIsIOS4||!(scrollParent=targetElement.fastClickScrollParent)||scrollParent.fastClickLastScrollTop===scrollParent.scrollTop)||(this.needsClick(targetElement)||(event.preventDefault(),this.sendClick(targetElement,event)),!1)},FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(event){return!this.targetElement||(!!event.forwardedTouchEvent||(!event.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(event.stopImmediatePropagation?event.stopImmediatePropagation():event.propagationStopped=!0,event.stopPropagation(),event.preventDefault(),!1))))},FastClick.prototype.onClick=function(event){var permitted;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===event.target.type&&0===event.detail||(permitted=this.onMouse(event),permitted||(this.targetElement=null),permitted)},FastClick.prototype.destroy=function(){var layer=this.layer;deviceIsAndroid&&(layer.removeEventListener("mouseover",this.onMouse,!0),layer.removeEventListener("mousedown",this.onMouse,!0),layer.removeEventListener("mouseup",this.onMouse,!0)),layer.removeEventListener("click",this.onClick,!0),layer.removeEventListener("touchstart",this.onTouchStart,!1),layer.removeEventListener("touchmove",this.onTouchMove,!1),layer.removeEventListener("touchend",this.onTouchEnd,!1),layer.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(layer){var metaViewport,chromeVersion,blackberryVersion;if(void 0===window.ontouchstart)return!0;if(chromeVersion=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(metaViewport=document.querySelector("meta[name=viewport]")){if(metaViewport.content.indexOf("user-scalable=no")!==-1)return!0;if(chromeVersion>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(deviceIsBlackBerry10&&(blackberryVersion=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),blackberryVersion[1]>=10&&blackberryVersion[2]>=3&&(metaViewport=document.querySelector("meta[name=viewport]")))){if(metaViewport.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===layer.style.msTouchAction||"manipulation"===layer.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(metaViewport=document.querySelector("meta[name=viewport]"))&&(metaViewport.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth))||("none"===layer.style.touchAction||"manipulation"===layer.style.touchAction))},FastClick.attach=function(layer,options){return new FastClick(layer,options)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return FastClick}):void 0!==module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick}()},{}],3:[function(require,module,exports){function addNS(data,children,sel){if(data.ns="http://www.w3.org/2000/svg","foreignObject"!==sel&&void 0!==children)for(var i=0;i<children.length;++i)addNS(children[i].data,children[i].children,children[i].sel)}var VNode=require("./vnode"),is=require("./is");module.exports=function(sel,b,c){var children,text,i,data={};if(void 0!==c?(data=b,is.array(c)?children=c:is.primitive(c)&&(text=c)):void 0!==b&&(is.array(b)?children=b:is.primitive(b)?text=b:data=b),is.array(children))for(i=0;i<children.length;++i)is.primitive(children[i])&&(children[i]=VNode(void 0,void 0,void 0,children[i]));return"s"===sel[0]&&"v"===sel[1]&&"g"===sel[2]&&addNS(data,children,sel),VNode(sel,data,children,text,void 0)}},{"./is":5,"./vnode":12}],4:[function(require,module,exports){function createElement(tagName){return document.createElement(tagName)}function createElementNS(namespaceURI,qualifiedName){return document.createElementNS(namespaceURI,qualifiedName)}function createTextNode(text){return document.createTextNode(text)}function insertBefore(parentNode,newNode,referenceNode){parentNode.insertBefore(newNode,referenceNode)}function removeChild(node,child){node.removeChild(child)}function appendChild(node,child){node.appendChild(child)}function parentNode(node){return node.parentElement}function nextSibling(node){return node.nextSibling}function tagName(node){return node.tagName}function setTextContent(node,text){node.textContent=text}module.exports={createElement:createElement,createElementNS:createElementNS,createTextNode:createTextNode,appendChild:appendChild,removeChild:removeChild,insertBefore:insertBefore,parentNode:parentNode,nextSibling:nextSibling,tagName:tagName,setTextContent:setTextContent}},{}],5:[function(require,module,exports){module.exports={array:Array.isArray,primitive:function(s){return"string"==typeof s||"number"==typeof s}}},{}],6:[function(require,module,exports){function updateAttrs(oldVnode,vnode){var key,cur,namespaceSplit,elm=vnode.elm,oldAttrs=oldVnode.data.attrs,attrs=vnode.data.attrs;if(oldAttrs||attrs){oldAttrs=oldAttrs||{},attrs=attrs||{};for(key in attrs)cur=attrs[key],oldAttrs[key]!==cur&&(!cur&&booleanAttrsDict[key]?elm.removeAttribute(key):(namespaceSplit=key.split(":"),namespaceSplit.length>1&&NamespaceURIs.hasOwnProperty(namespaceSplit[0])?elm.setAttributeNS(NamespaceURIs[namespaceSplit[0]],key,cur):elm.setAttribute(key,cur)));for(key in oldAttrs)key in attrs||elm.removeAttribute(key)}}for(var NamespaceURIs={xlink:"http://www.w3.org/1999/xlink"},booleanAttrs=["allowfullscreen","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","draggable","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","spellcheck","translate","truespeed","typemustmatch","visible"],booleanAttrsDict=Object.create(null),i=0,len=booleanAttrs.length;i<len;i++)booleanAttrsDict[booleanAttrs[i]]=!0;module.exports={create:updateAttrs,update:updateAttrs}},{}],7:[function(require,module,exports){function updateClass(oldVnode,vnode){var cur,name,elm=vnode.elm,oldClass=oldVnode.data.class,klass=vnode.data.class;if(oldClass||klass){oldClass=oldClass||{},klass=klass||{};for(name in oldClass)klass[name]||elm.classList.remove(name);for(name in klass)(cur=klass[name])!==oldClass[name]&&elm.classList[cur?"add":"remove"](name)}}module.exports={create:updateClass,update:updateClass}},{}],8:[function(require,module,exports){function invokeHandler(handler,vnode,event){if("function"==typeof handler)handler.call(vnode,event,vnode);else if("object"==typeof handler)if("function"==typeof handler[0])if(2===handler.length)handler[0].call(vnode,handler[1],event,vnode);else{var args=handler.slice(1);args.push(event),args.push(vnode),handler[0].apply(vnode,args)}else for(var i=0;i<handler.length;i++)invokeHandler(handler[i])}function handleEvent(event,vnode){var name=event.type,on=vnode.data.on;on&&on[name]&&invokeHandler(on[name],vnode,event)}function createListener(){return function handler(event){handleEvent(event,handler.vnode)}}function updateEventListeners(oldVnode,vnode){var name,oldOn=oldVnode.data.on,oldListener=oldVnode.listener,oldElm=oldVnode.elm,on=vnode&&vnode.data.on,elm=vnode&&vnode.elm;if(oldOn!==on){if(oldOn&&oldListener)if(on)for(name in oldOn)on[name]||oldElm.removeEventListener(name,oldListener,!1);else for(name in oldOn)oldElm.removeEventListener(name,oldListener,!1);if(on){var listener=vnode.listener=oldVnode.listener||createListener();if(listener.vnode=vnode,oldOn)for(name in on)oldOn[name]||elm.addEventListener(name,listener,!1);else for(name in on)elm.addEventListener(name,listener,!1)}}}module.exports={create:updateEventListeners,update:updateEventListeners,destroy:updateEventListeners}},{}],9:[function(require,module,exports){function updateProps(oldVnode,vnode){var key,cur,elm=vnode.elm,oldProps=oldVnode.data.props,props=vnode.data.props;if(oldProps||props){oldProps=oldProps||{},props=props||{};for(key in oldProps)props[key]||delete elm[key];for(key in props)cur=props[key],oldProps[key]===cur||"value"===key&&elm[key]===cur||(elm[key]=cur)}}module.exports={create:updateProps,update:updateProps}},{}],10:[function(require,module,exports){function setNextFrame(obj,prop,val){nextFrame(function(){obj[prop]=val})}function updateStyle(oldVnode,vnode){var cur,name,elm=vnode.elm,oldStyle=oldVnode.data.style,style=vnode.data.style;if(oldStyle||style){oldStyle=oldStyle||{},style=style||{};var oldHasDel="delayed"in oldStyle;for(name in oldStyle)style[name]||(elm.style[name]="");for(name in style)if(cur=style[name],"delayed"===name)for(name in style.delayed)cur=style.delayed[name],oldHasDel&&cur===oldStyle.delayed[name]||setNextFrame(elm.style,name,cur);else"remove"!==name&&cur!==oldStyle[name]&&(elm.style[name]=cur)}}function applyDestroyStyle(vnode){var style,name,elm=vnode.elm,s=vnode.data.style;if(s&&(style=s.destroy))for(name in style)elm.style[name]=style[name]}function applyRemoveStyle(vnode,rm){var s=vnode.data.style;if(!s||!s.remove)return void rm();var name,compStyle,elm=vnode.elm,i=0,style=s.remove,amount=0,applied=[];for(name in style)applied.push(name),elm.style[name]=style[name];compStyle=getComputedStyle(elm);for(var props=compStyle["transition-property"].split(", ");i<props.length;++i)applied.indexOf(props[i])!==-1&&amount++;elm.addEventListener("transitionend",function(ev){ev.target===elm&&--amount,0===amount&&rm()})}var raf="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout,nextFrame=function(fn){raf(function(){raf(fn)})};module.exports={create:updateStyle,update:updateStyle,destroy:applyDestroyStyle,remove:applyRemoveStyle}},{}],11:[function(require,module,exports){"use strict";function isUndef(s){return void 0===s}function isDef(s){return void 0!==s}function sameVnode(vnode1,vnode2){return vnode1.key===vnode2.key&&vnode1.sel===vnode2.sel}function createKeyToOldIdx(children,beginIdx,endIdx){var i,key,map={};for(i=beginIdx;i<=endIdx;++i)key=children[i].key,isDef(key)&&(map[key]=i);return map}function init(modules,api){function emptyNodeAt(elm){var id=elm.id?"#"+elm.id:"",c=elm.className?"."+elm.className.split(" ").join("."):"";return VNode(api.tagName(elm).toLowerCase()+id+c,{},[],void 0,elm)}function createRmCb(childElm,listeners){return function(){if(0==--listeners){var parent=api.parentNode(childElm);api.removeChild(parent,childElm)}}}function createElm(vnode,insertedVnodeQueue){var i,data=vnode.data;isDef(data)&&isDef(i=data.hook)&&isDef(i=i.init)&&(i(vnode),data=vnode.data);var elm,children=vnode.children,sel=vnode.sel;if(isDef(sel)){var hashIdx=sel.indexOf("#"),dotIdx=sel.indexOf(".",hashIdx),hash=hashIdx>0?hashIdx:sel.length,dot=dotIdx>0?dotIdx:sel.length,tag=hashIdx!==-1||dotIdx!==-1?sel.slice(0,Math.min(hash,dot)):sel;if(elm=vnode.elm=isDef(data)&&isDef(i=data.ns)?api.createElementNS(i,tag):api.createElement(tag),hash<dot&&(elm.id=sel.slice(hash+1,dot)),dotIdx>0&&(elm.className=sel.slice(dot+1).replace(/\./g," ")),is.array(children))for(i=0;i<children.length;++i)api.appendChild(elm,createElm(children[i],insertedVnodeQueue));else is.primitive(vnode.text)&&api.appendChild(elm,api.createTextNode(vnode.text));for(i=0;i<cbs.create.length;++i)cbs.create[i](emptyNode,vnode);i=vnode.data.hook,isDef(i)&&(i.create&&i.create(emptyNode,vnode),i.insert&&insertedVnodeQueue.push(vnode))}else elm=vnode.elm=api.createTextNode(vnode.text);return vnode.elm}function addVnodes(parentElm,before,vnodes,startIdx,endIdx,insertedVnodeQueue){for(;startIdx<=endIdx;++startIdx)api.insertBefore(parentElm,createElm(vnodes[startIdx],insertedVnodeQueue),before)}function invokeDestroyHook(vnode){var i,j,data=vnode.data;if(isDef(data)){for(isDef(i=data.hook)&&isDef(i=i.destroy)&&i(vnode),i=0;i<cbs.destroy.length;++i)cbs.destroy[i](vnode);if(isDef(i=vnode.children))for(j=0;j<vnode.children.length;++j)invokeDestroyHook(vnode.children[j])}}function removeVnodes(parentElm,vnodes,startIdx,endIdx){for(;startIdx<=endIdx;++startIdx){var i,listeners,rm,ch=vnodes[startIdx];if(isDef(ch))if(isDef(ch.sel)){for(invokeDestroyHook(ch),listeners=cbs.remove.length+1,rm=createRmCb(ch.elm,listeners),i=0;i<cbs.remove.length;++i)cbs.remove[i](ch,rm);isDef(i=ch.data)&&isDef(i=i.hook)&&isDef(i=i.remove)?i(ch,rm):rm()}else api.removeChild(parentElm,ch.elm)}}function updateChildren(parentElm,oldCh,newCh,insertedVnodeQueue){for(var oldKeyToIdx,idxInOld,elmToMove,before,oldStartIdx=0,newStartIdx=0,oldEndIdx=oldCh.length-1,oldStartVnode=oldCh[0],oldEndVnode=oldCh[oldEndIdx],newEndIdx=newCh.length-1,newStartVnode=newCh[0],newEndVnode=newCh[newEndIdx];oldStartIdx<=oldEndIdx&&newStartIdx<=newEndIdx;)isUndef(oldStartVnode)?oldStartVnode=oldCh[++oldStartIdx]:isUndef(oldEndVnode)?oldEndVnode=oldCh[--oldEndIdx]:sameVnode(oldStartVnode,newStartVnode)?(patchVnode(oldStartVnode,newStartVnode,insertedVnodeQueue),oldStartVnode=oldCh[++oldStartIdx],newStartVnode=newCh[++newStartIdx]):sameVnode(oldEndVnode,newEndVnode)?(patchVnode(oldEndVnode,newEndVnode,insertedVnodeQueue),oldEndVnode=oldCh[--oldEndIdx],newEndVnode=newCh[--newEndIdx]):sameVnode(oldStartVnode,newEndVnode)?(patchVnode(oldStartVnode,newEndVnode,insertedVnodeQueue),api.insertBefore(parentElm,oldStartVnode.elm,api.nextSibling(oldEndVnode.elm)),oldStartVnode=oldCh[++oldStartIdx],newEndVnode=newCh[--newEndIdx]):sameVnode(oldEndVnode,newStartVnode)?(patchVnode(oldEndVnode,newStartVnode,insertedVnodeQueue),api.insertBefore(parentElm,oldEndVnode.elm,oldStartVnode.elm),oldEndVnode=oldCh[--oldEndIdx],newStartVnode=newCh[++newStartIdx]):(isUndef(oldKeyToIdx)&&(oldKeyToIdx=createKeyToOldIdx(oldCh,oldStartIdx,oldEndIdx)),idxInOld=oldKeyToIdx[newStartVnode.key],isUndef(idxInOld)?(api.insertBefore(parentElm,createElm(newStartVnode,insertedVnodeQueue),oldStartVnode.elm),newStartVnode=newCh[++newStartIdx]):(elmToMove=oldCh[idxInOld],patchVnode(elmToMove,newStartVnode,insertedVnodeQueue),oldCh[idxInOld]=void 0,api.insertBefore(parentElm,elmToMove.elm,oldStartVnode.elm),newStartVnode=newCh[++newStartIdx]));oldStartIdx>oldEndIdx?(before=isUndef(newCh[newEndIdx+1])?null:newCh[newEndIdx+1].elm,addVnodes(parentElm,before,newCh,newStartIdx,newEndIdx,insertedVnodeQueue)):newStartIdx>newEndIdx&&removeVnodes(parentElm,oldCh,oldStartIdx,oldEndIdx)}function patchVnode(oldVnode,vnode,insertedVnodeQueue){var i,hook;isDef(i=vnode.data)&&isDef(hook=i.hook)&&isDef(i=hook.prepatch)&&i(oldVnode,vnode);var elm=vnode.elm=oldVnode.elm,oldCh=oldVnode.children,ch=vnode.children;if(oldVnode!==vnode){if(!sameVnode(oldVnode,vnode)){var parentElm=api.parentNode(oldVnode.elm);return elm=createElm(vnode,insertedVnodeQueue),api.insertBefore(parentElm,elm,oldVnode.elm),void removeVnodes(parentElm,[oldVnode],0,0)}if(isDef(vnode.data)){for(i=0;i<cbs.update.length;++i)cbs.update[i](oldVnode,vnode);i=vnode.data.hook,isDef(i)&&isDef(i=i.update)&&i(oldVnode,vnode)}isUndef(vnode.text)?isDef(oldCh)&&isDef(ch)?oldCh!==ch&&updateChildren(elm,oldCh,ch,insertedVnodeQueue):isDef(ch)?(isDef(oldVnode.text)&&api.setTextContent(elm,""),addVnodes(elm,null,ch,0,ch.length-1,insertedVnodeQueue)):isDef(oldCh)?removeVnodes(elm,oldCh,0,oldCh.length-1):isDef(oldVnode.text)&&api.setTextContent(elm,""):oldVnode.text!==vnode.text&&api.setTextContent(elm,vnode.text),isDef(hook)&&isDef(i=hook.postpatch)&&i(oldVnode,vnode)}}var i,j,cbs={};for(isUndef(api)&&(api=domApi),i=0;i<hooks.length;++i)for(cbs[hooks[i]]=[],j=0;j<modules.length;++j)void 0!==modules[j][hooks[i]]&&cbs[hooks[i]].push(modules[j][hooks[i]]);return function(oldVnode,vnode){var i,elm,parent,insertedVnodeQueue=[];for(i=0;i<cbs.pre.length;++i)cbs.pre[i]();for(isUndef(oldVnode.sel)&&(oldVnode=emptyNodeAt(oldVnode)),sameVnode(oldVnode,vnode)?patchVnode(oldVnode,vnode,insertedVnodeQueue):(elm=oldVnode.elm,parent=api.parentNode(elm),createElm(vnode,insertedVnodeQueue),null!==parent&&(api.insertBefore(parent,vnode.elm,api.nextSibling(elm)),removeVnodes(parent,[oldVnode],0,0))),i=0;i<insertedVnodeQueue.length;++i)insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);for(i=0;i<cbs.post.length;++i)cbs.post[i]();return vnode}}var VNode=require("./vnode"),is=require("./is"),domApi=require("./htmldomapi"),emptyNode=VNode("",{},[],void 0,void 0),hooks=["create","update","remove","destroy","pre","post"];module.exports={init:init}},{"./htmldomapi":4,"./is":5,"./vnode":12}],12:[function(require,module,exports){module.exports=function(sel,data,children,text,elm){return{sel:sel,data:data,children:children,text:text,elm:elm,key:void 0===data?void 0:data.key}}},{}],13:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}
function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function updateProps(oldVnode,vnode){var key=void 0,cur=void 0,elm=vnode.elm,props=vnode.data.liveProps||{};for(key in props)cur=props[key],elm[key]!==cur&&(elm[key]=cur)}function uuid(){return(""+1e7+-1e3+-4e3+-8e3+-1e11).replace(/[10]/g,function(){return(0|16*Math.random()).toString(16)})}function moveInArray(array,moveIndex,toIndex){var item=array[moveIndex],length=array.length,diff=moveIndex-toIndex;return diff>0?[].concat(_toConsumableArray(array.slice(0,toIndex)),[item],_toConsumableArray(array.slice(toIndex,moveIndex)),_toConsumableArray(array.slice(moveIndex+1,length))):diff<0?[].concat(_toConsumableArray(array.slice(0,moveIndex)),_toConsumableArray(array.slice(moveIndex+1,toIndex+1)),[item],_toConsumableArray(array.slice(toIndex+1,length))):array}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_snabbdom=require("snabbdom"),_snabbdom2=_interopRequireDefault(_snabbdom),_h=require("snabbdom/h"),_h2=_interopRequireDefault(_h),_big=require("../node_modules/big.js"),_big2=_interopRequireDefault(_big),_ugnis=require("./ugnis"),_ugnis2=_interopRequireDefault(_ugnis),_app=require("../ugnis_components/app.json"),_app2=_interopRequireDefault(_app),livePropsPlugin={create:updateProps,update:updateProps},patch=_snabbdom2.default.init([require("snabbdom/modules/class"),require("snabbdom/modules/props"),require("snabbdom/modules/style"),require("snabbdom/modules/eventlisteners"),require("snabbdom/modules/attributes"),livePropsPlugin]);_big2.default.E_POS=1e6,require("fastclick")(document.body);var version="0.0.30v";!function(appDefinition){function setState(newState,timeTraveling){if(newState===state&&console.warn("state was mutated, search for a bug"),state.definition!==newState.definition){if(void 0===newState.definition.state[newState.selectedStateNodeId]&&(newState=_extends({},newState,{selectedStateNodeId:""})),void 0!==newState.selectedViewNode.ref&&void 0===newState.definition[newState.selectedViewNode.ref][newState.selectedViewNode.id]&&(newState=_extends({},newState,{selectedViewNode:{}})),!timeTraveling){var currentIndex=stateStack.findIndex(function(a){return a===state.definition});stateStack=stateStack.slice(0,currentIndex+1).concat(newState.definition)}app.render(newState.definition),setTimeout(function(){return localStorage.setItem("app_key_"+version,JSON.stringify(newState.definition))},0)}state.appIsFrozen===newState.appIsFrozen&&state.selectedViewNode===newState.selectedViewNode||app._freeze(newState.appIsFrozen,VIEW_NODE_SELECTED,newState.selectedViewNode),newState.editingTitleNodeId&&state.editingTitleNodeId!==newState.editingTitleNodeId&&setTimeout(function(){var node=document.querySelectorAll("[data-istitleeditor]")[0];node&&node.focus()},0),state=newState,currentAnimationFrameRequest||window.requestAnimationFrame(render)}function VIEW_DRAGGED(nodeRef,parentRef,initialDepth,e){function drag(e){e.preventDefault();var x=e.touches?e.touches[0].pageX:e.pageX,y=e.touches?e.touches[0].pageY:e.pageY;return state.draggedComponentView?setState(_extends({},state,{mousePosition:{x:x-offsetX,y:y-offsetY}})):Math.abs(initialY-y)>3&&setState(_extends({},state,{draggedComponentView:_extends({},nodeRef,{depth:initialDepth}),mousePosition:{x:x-offsetX,y:y-offsetY}})),!1}function stopDragging(event){var _extends4,_extends8;if(event.preventDefault(),window.removeEventListener("mousemove",drag),window.removeEventListener("touchmove",drag),window.removeEventListener("mouseup",stopDragging),window.removeEventListener("touchend",stopDragging),openBoxTimeout&&(clearTimeout(openBoxTimeout),openBoxTimeout=null),!state.draggedComponentView)return event.target===e.target&&isArrow?VIEW_FOLDER_CLICKED(nodeRef.id):event.target===e.target&&isTrashcan?DELETE_SELECTED_VIEW(nodeRef,parentRef):VIEW_NODE_SELECTED(nodeRef);if(!state.hoveredViewNode)return setState(_extends({},state,{draggedComponentView:null}));var newParentRef=state.hoveredViewNode.parent;return setState(_extends({},state,{draggedComponentView:null,hoveredViewNode:null,definition:parentRef.id===newParentRef.id?_extends({},state.definition,_defineProperty({},parentRef.ref,_extends({},state.definition[parentRef.ref],_defineProperty({},parentRef.id,_extends({},state.definition[parentRef.ref][parentRef.id],{children:moveInArray(state.definition[parentRef.ref][parentRef.id].children,state.definition[parentRef.ref][parentRef.id].children.findIndex(function(ref){return ref.id===nodeRef.id}),state.hoveredViewNode.position)}))))):parentRef.ref===newParentRef.ref?_extends({},state.definition,_defineProperty({},parentRef.ref,_extends({},state.definition[parentRef.ref],(_extends4={},_defineProperty(_extends4,parentRef.id,_extends({},state.definition[parentRef.ref][parentRef.id],{children:state.definition[parentRef.ref][parentRef.id].children.filter(function(ref){return ref.id!==nodeRef.id})})),_defineProperty(_extends4,newParentRef.id,_extends({},state.definition[newParentRef.ref][newParentRef.id],{children:state.definition[newParentRef.ref][newParentRef.id].children.slice(0,state.hoveredViewNode.position).concat(nodeRef,state.definition[newParentRef.ref][newParentRef.id].children.slice(state.hoveredViewNode.position))})),_extends4)))):_extends({},state.definition,(_extends8={},_defineProperty(_extends8,parentRef.ref,_extends({},state.definition[parentRef.ref],_defineProperty({},parentRef.id,_extends({},state.definition[parentRef.ref][parentRef.id],{children:state.definition[parentRef.ref][parentRef.id].children.filter(function(ref){return ref.id!==nodeRef.id})})))),_defineProperty(_extends8,newParentRef.ref,_extends({},state.definition[newParentRef.ref],_defineProperty({},newParentRef.id,_extends({},state.definition[newParentRef.ref][newParentRef.id],{children:state.definition[newParentRef.ref][newParentRef.id].children.slice(0,state.hoveredViewNode.position).concat(nodeRef,state.definition[newParentRef.ref][newParentRef.id].children.slice(state.hoveredViewNode.position))})))),_extends8))})),!1}e.preventDefault();var isArrow=e.target.dataset.closearrow,isTrashcan=e.target.dataset.trashcan,initialX=e.touches?e.touches[0].pageX:e.pageX,initialY=e.touches?e.touches[0].pageY:e.pageY,position=this.elm.getBoundingClientRect(),offsetX=initialX-position.left,offsetY=initialY-position.top;return window.addEventListener("mousemove",drag),window.addEventListener("touchmove",drag),window.addEventListener("mouseup",stopDragging),window.addEventListener("touchend",stopDragging),!1}function VIEW_HOVER_MOBILE(e){var elem=document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY),moveEvent=new MouseEvent("mousemove",{bubbles:!0,cancelable:!0,view:window,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY,screenX:e.touches[0].screenX,screenY:e.touches[0].screenY});elem.dispatchEvent(moveEvent)}function VIEW_HOVERED(nodeRef,parentRef,depth,e){if(state.draggedComponentView){if(nodeRef.id===state.draggedComponentView.id)return setState(_extends({},state,{hoveredViewNode:null}));var hitPosition=(e.touches?28:e.layerY)/28,insertBefore=function(){return setState(_extends({},state,{hoveredViewNode:{parent:parentRef,depth:depth,position:state.definition[parentRef.ref][parentRef.id].children.filter(function(ref){return ref.id!==state.draggedComponentView.id}).findIndex(function(ref){return ref.id===nodeRef.id})}}))},insertAsFirst=function(){return setState(_extends({},state,{hoveredViewNode:{parent:nodeRef,depth:depth+1,position:0}}))};if("_rootNode"===nodeRef.id)return insertAsFirst();if(state.definition[nodeRef.ref][nodeRef.id].children)if(state.viewFoldersClosed[nodeRef.id]||0===state.definition[nodeRef.ref][nodeRef.id].children.length){if(!(hitPosition<.3))return openBoxTimeout||(openBoxTimeout=setTimeout(function(){return VIEW_FOLDER_CLICKED(nodeRef.id,!1)},500)),void insertAsFirst();insertBefore()}else hitPosition<.5?insertBefore():insertAsFirst();else hitPosition<.5?insertBefore():function(){setState(_extends({},state,{hoveredViewNode:{parent:parentRef,depth:depth,position:state.definition[parentRef.ref][parentRef.id].children.filter(function(ref){return ref.id!==state.draggedComponentView.id}).findIndex(function(ref){return ref.id===nodeRef.id})+1}}))}();openBoxTimeout&&(clearTimeout(openBoxTimeout),openBoxTimeout=null)}}function COMPONENT_VIEW_DRAGGED(e){function drag(e){e.preventDefault(),setState(_extends({},state,{componentEditorPosition:{x:(e.touches?e.touches[0].pageX:e.pageX)-offsetX,y:(e.touches?e.touches[0].pageY:e.pageY)-offsetY}}))}function stopDragging(event){event.preventDefault(),window.removeEventListener("mousemove",drag),window.removeEventListener("touchmove",drag),window.removeEventListener("mouseup",stopDragging),window.removeEventListener("touchend",stopDragging)}var initialX=e.touches?e.touches[0].pageX:e.pageX,initialY=e.touches?e.touches[0].pageY:e.pageY,position=this.elm.getBoundingClientRect(),offsetX=initialX-position.left,offsetY=initialY-position.top;window.addEventListener("mousemove",drag),window.addEventListener("touchmove",drag),window.addEventListener("mouseup",stopDragging),window.addEventListener("touchend",stopDragging)}function WIDTH_DRAGGED(widthName,e){function resize(e){e.preventDefault();var newWidth=window.innerWidth-(e.touches?e.touches[0].pageX:e.pageX);return"editorLeftWidth"===widthName&&(newWidth=e.touches?e.touches[0].pageX:e.pageX),"subEditorWidth"===widthName&&(newWidth=(e.touches?e.touches[0].pageX:e.pageX)-state.componentEditorPosition.x),"subEditorWidth"!==widthName&&(("editorLeftWidth"===widthName?state.leftOpen:state.rightOpen)?newWidth<180:newWidth>180)?setState("editorLeftWidth"===widthName?_extends({},state,{leftOpen:!state.leftOpen}):_extends({},state,{rightOpen:!state.rightOpen})):(newWidth<250&&(newWidth=250),setState(_extends({},state,_defineProperty({},widthName,newWidth))),!1)}function stopDragging(e){return e.preventDefault(),window.removeEventListener("mousemove",resize),window.removeEventListener("touchmove",resize),window.removeEventListener("mouseup",stopDragging),window.removeEventListener("touchend",stopDragging),!1}return e.preventDefault(),window.addEventListener("mousemove",resize),window.addEventListener("touchmove",resize),window.addEventListener("mouseup",stopDragging),window.addEventListener("touchend",stopDragging),!1}function STATE_DRAGGED(stateId,e){function drag(e){e.preventDefault();var x=e.touches?e.touches[0].pageX:e.pageX,y=e.touches?e.touches[0].pageY:e.pageY;return state.draggedComponentView?setState(_extends({},state,{mousePosition:{x:x-offsetX,y:y-offsetY}})):Math.abs(initialY-y)>3&&setState(_extends({},state,{draggedComponentStateId:stateId,mousePosition:{x:x-offsetX,y:y-offsetY}})),!1}function stopDragging(event){if(event.preventDefault(),window.removeEventListener("mousemove",drag),window.removeEventListener("touchmove",drag),window.removeEventListener("mouseup",stopDragging),window.removeEventListener("touchend",stopDragging),!state.draggedComponentStateId)return STATE_NODE_SELECTED(stateId);setState(_extends({},state,{draggedComponentStateId:null}))}e.preventDefault();var initialX=e.touches?e.touches[0].pageX:e.pageX,initialY=e.touches?e.touches[0].pageY:e.pageY,position=this.elm.getBoundingClientRect(),offsetX=initialX-position.left,offsetY=initialY-position.top;window.addEventListener("mousemove",drag),window.addEventListener("touchmove",drag),window.addEventListener("mouseup",stopDragging),window.addEventListener("touchend",stopDragging)}function OPEN_SIDEBAR(side){return"left"===side?setState(_extends({},state,{leftOpen:!state.leftOpen})):"right"===side?setState(_extends({},state,{rightOpen:!state.rightOpen})):void 0}function FREEZER_CLICKED(){setState(_extends({},state,{appIsFrozen:!state.appIsFrozen}))}function VIEW_FOLDER_CLICKED(nodeId,forcedValue){setState(_extends({},state,{viewFoldersClosed:_extends({},state.viewFoldersClosed,_defineProperty({},nodeId,void 0!==forcedValue?forcedValue:!state.viewFoldersClosed[nodeId]))}))}function VIEW_NODE_SELECTED(ref){setState(_extends({},state,{selectedViewNode:ref}))}function UNSELECT_VIEW_NODE(selfOnly,e){e.stopPropagation(),selfOnly&&e.target!==this.elm||setState(_extends({},state,{selectedViewNode:{}}))}function STATE_NODE_SELECTED(nodeId){setState(_extends({},state,{selectedStateNodeId:nodeId}))}function UNSELECT_STATE_NODE(e){e.target===this.elm&&setState(_extends({},state,{selectedStateNodeId:""}))}function ADD_NODE(nodeRef,type){nodeRef.ref&&state.definition[nodeRef.ref][nodeRef.id]&&state.definition[nodeRef.ref][nodeRef.id].children||(nodeRef={ref:"vNodeBox",id:"_rootNode"});var nodeId=nodeRef.id,newNodeId=uuid(),newStyleId=uuid(),newStyle={};if("box"===type){var _extends11,_extends16,newNode={title:"box",style:{ref:"style",id:newStyleId},children:[]};return setState(_extends({},state,{selectedViewNode:{ref:"vNodeBox",id:newNodeId},definition:"vNodeBox"===nodeRef.ref?_extends({},state.definition,{vNodeBox:_extends({},state.definition.vNodeBox,(_extends11={},_defineProperty(_extends11,nodeId,_extends({},state.definition.vNodeBox[nodeId],{children:state.definition.vNodeBox[nodeId].children.concat({ref:"vNodeBox",id:newNodeId})})),_defineProperty(_extends11,newNodeId,newNode),_extends11)),style:_extends({},state.definition.style,_defineProperty({},newStyleId,newStyle))}):_extends({},state.definition,(_extends16={},_defineProperty(_extends16,nodeRef.ref,_extends({},state.definition[nodeRef.ref],_defineProperty({},nodeId,_extends({},state.definition[nodeRef.ref][nodeId],{children:state.definition[nodeRef.ref][nodeId].children.concat({ref:"vNodeBox",id:newNodeId})})))),_defineProperty(_extends16,"vNodeBox",_extends({},state.definition.vNodeBox,_defineProperty({},newNodeId,newNode))),_defineProperty(_extends16,"style",_extends({},state.definition.style,_defineProperty({},newStyleId,newStyle))),_extends16))}))}if("text"===type){var _extends21,pipeId=uuid(),_newNode={title:"text",style:{ref:"style",id:newStyleId},value:{ref:"pipe",id:pipeId}},newPipe={type:"text",value:"Default Text",transformations:[]};return setState(_extends({},state,{selectedViewNode:{ref:"vNodeText",id:newNodeId},definition:_extends({},state.definition,(_extends21={pipe:_extends({},state.definition.pipe,_defineProperty({},pipeId,newPipe))},_defineProperty(_extends21,nodeRef.ref,_extends({},state.definition[nodeRef.ref],_defineProperty({},nodeId,_extends({},state.definition[nodeRef.ref][nodeId],{children:state.definition[nodeRef.ref][nodeId].children.concat({ref:"vNodeText",id:newNodeId})})))),_defineProperty(_extends21,"vNodeText",_extends({},state.definition.vNodeText,_defineProperty({},newNodeId,_newNode))),_defineProperty(_extends21,"style",_extends({},state.definition.style,_defineProperty({},newStyleId,newStyle))),_extends21))}))}if("image"===type){var _extends26,_pipeId=uuid(),_newNode2={title:"image",style:{ref:"style",id:newStyleId},src:{ref:"pipe",id:_pipeId}},_newPipe={type:"text",value:"https://www.ugnis.com/images/logo256x256.png",transformations:[]};return setState(_extends({},state,{selectedViewNode:{ref:"vNodeImage",id:newNodeId},definition:_extends({},state.definition,(_extends26={pipe:_extends({},state.definition.pipe,_defineProperty({},_pipeId,_newPipe))},_defineProperty(_extends26,nodeRef.ref,_extends({},state.definition[nodeRef.ref],_defineProperty({},nodeId,_extends({},state.definition[nodeRef.ref][nodeId],{children:state.definition[nodeRef.ref][nodeId].children.concat({ref:"vNodeImage",id:newNodeId})})))),_defineProperty(_extends26,"vNodeImage",_extends({},state.definition.vNodeImage,_defineProperty({},newNodeId,_newNode2))),_defineProperty(_extends26,"style",_extends({},state.definition.style,_defineProperty({},newStyleId,newStyle))),_extends26))}))}if("if"===type){var _extends28,_extends32,_pipeId2=uuid(),_newNode3={title:"conditional",value:{ref:"pipe",id:_pipeId2},children:[]},_newPipe2={type:"boolean",value:!0,transformations:[]};return setState(_extends({},state,{selectedViewNode:{ref:"vNodeIf",id:newNodeId},definition:"vNodeIf"===nodeRef.ref?_extends({},state.definition,{pipe:_extends({},state.definition.pipe,_defineProperty({},_pipeId2,_newPipe2)),vNodeIf:_extends({},state.definition.vNodeIf,(_extends28={},_defineProperty(_extends28,nodeId,_extends({},state.definition.vNodeIf[nodeId],{children:state.definition.vNodeIf[nodeId].children.concat({ref:"vNodeIf",id:newNodeId})})),_defineProperty(_extends28,newNodeId,_newNode3),_extends28))}):_extends({},state.definition,(_extends32={pipe:_extends({},state.definition.pipe,_defineProperty({},_pipeId2,_newPipe2))},_defineProperty(_extends32,nodeRef.ref,_extends({},state.definition[nodeRef.ref],_defineProperty({},nodeId,_extends({},state.definition[nodeRef.ref][nodeId],{children:state.definition[nodeRef.ref][nodeId].children.concat({ref:"vNodeIf",id:newNodeId})})))),_defineProperty(_extends32,"vNodeIf",_extends({},state.definition.vNodeIf,_defineProperty({},newNodeId,_newNode3))),_extends32))}))}if("input"===type){var _extends33,_extends41,stateId=uuid(),eventId=uuid(),mutatorId=uuid(),pipeInputId=uuid(),pipeMutatorId=uuid(),_newNode4={title:"input",style:{ref:"style",id:newStyleId},value:{ref:"pipe",id:pipeInputId},input:{ref:"event",id:eventId}},newPipeInput={type:"text",value:{ref:"state",id:stateId},transformations:[]},newPipeMutator={type:"text",value:{ref:"eventData",id:"_input"},transformations:[]},newState={title:"input value",type:"text",ref:stateId,defaultValue:"Default text",mutators:[{ref:"mutator",id:mutatorId}]},newMutator={event:{ref:"event",id:eventId},state:{ref:"state",id:stateId},mutation:{ref:"pipe",id:pipeMutatorId}},newEvent={type:"input",title:"update input",mutators:[{ref:"mutator",id:mutatorId}],emitter:{ref:"vNodeInput",id:newNodeId},data:[{ref:"eventData",id:"_input"}]};return setState(_extends({},state,{selectedViewNode:{ref:"vNodeInput",id:newNodeId},definition:_extends({},state.definition,(_extends41={pipe:_extends({},state.definition.pipe,(_extends33={},_defineProperty(_extends33,pipeInputId,newPipeInput),_defineProperty(_extends33,pipeMutatorId,newPipeMutator),_extends33))},_defineProperty(_extends41,nodeRef.ref,_extends({},state.definition[nodeRef.ref],_defineProperty({},nodeId,_extends({},state.definition[nodeRef.ref][nodeId],{children:state.definition[nodeRef.ref][nodeId].children.concat({ref:"vNodeInput",id:newNodeId})})))),_defineProperty(_extends41,"vNodeInput",_extends({},state.definition.vNodeInput,_defineProperty({},newNodeId,_newNode4))),_defineProperty(_extends41,"style",_extends({},state.definition.style,_defineProperty({},newStyleId,newStyle))),_defineProperty(_extends41,"nameSpace",_extends({},state.definition.nameSpace,_defineProperty({},"_rootNameSpace",_extends({},state.definition.nameSpace._rootNameSpace,{children:state.definition.nameSpace._rootNameSpace.children.concat({ref:"state",id:stateId})})))),_defineProperty(_extends41,"state",_extends({},state.definition.state,_defineProperty({},stateId,newState))),_defineProperty(_extends41,"mutator",_extends({},state.definition.mutator,_defineProperty({},mutatorId,newMutator))),_defineProperty(_extends41,"event",_extends({},state.definition.event,_defineProperty({},eventId,newEvent))),_extends41))}))}}function ADD_STATE(namespaceId,type){var newStateId=uuid(),newState=void 0;if("text"===type&&(newState={title:"new text",ref:newStateId,type:"text",defaultValue:"Default text",mutators:[]}),"number"===type&&(newState={title:"new number",ref:newStateId,type:"number",defaultValue:0,mutators:[]}),"boolean"===type&&(newState={title:"new boolean",type:"boolean",ref:newStateId,defaultValue:!0,mutators:[]}),"table"===type&&(newState={title:"new table",type:"table",ref:newStateId,defaultValue:{},mutators:[]}),"folder"===type){var _extends42;return newState={title:"new folder",children:[]},setState(_extends({},state,{definition:_extends({},state.definition,{nameSpace:_extends({},state.definition.nameSpace,(_extends42={},_defineProperty(_extends42,namespaceId,_extends({},state.definition.nameSpace[namespaceId],{children:state.definition.nameSpace[namespaceId].children.concat({ref:"nameSpace",id:newStateId})})),_defineProperty(_extends42,newStateId,newState),_extends42))})}))}setState(_extends({},state,{definition:_extends({},state.definition,{nameSpace:_extends({},state.definition.nameSpace,_defineProperty({},namespaceId,_extends({},state.definition.nameSpace[namespaceId],{children:state.definition.nameSpace[namespaceId].children.concat({ref:"state",id:newStateId})}))),state:_extends({},state.definition.state,_defineProperty({},newStateId,newState))})}))}function ADD_DEFAULT_STYLE(styleId,key){var pipeId=uuid(),defaults={background:"white",border:"1px solid black",outline:"1px solid black",cursor:"pointer",color:"black",display:"block",top:"0px",bottom:"0px",left:"0px",right:"0px",flex:"1 1 auto",justifyContent:"center",alignItems:"center",maxWidth:"100%",maxHeight:"100%",minWidth:"100%",minHeight:"100%",position:"absolute",overflow:"auto",height:"500px",width:"500px",font:'italic 2em "Comic Sans MS", cursive, sans-serif',margin:"10px",padding:"10px"};setState(_extends({},state,{definition:_extends({},state.definition,{pipe:_extends({},state.definition.pipe,_defineProperty({},pipeId,{type:"text",value:defaults[key],transformations:[]})),style:_extends({},state.definition.style,_defineProperty({},styleId,_extends({},state.definition.style[styleId],_defineProperty({},key,{ref:"pipe",id:pipeId}))))})}))}function SELECT_VIEW_SUBMENU(newId){setState(_extends({},state,{selectedViewSubMenu:newId}))}function EDIT_VIEW_NODE_TITLE(nodeId){setState(_extends({},state,{editingTitleNodeId:nodeId}))}function DELETE_SELECTED_VIEW(nodeRef,parentRef){if("_rootNode"===nodeRef.id){if(0===state.definition.vNodeBox._rootNode.children.length)return;return setState(_extends({},state,{definition:_extends({},state.definition,{vNodeBox:{_rootNode:_extends({},state.definition.vNodeBox._rootNode,{children:[]})}}),selectedViewNode:{}}))}setState(_extends({},state,{definition:_extends({},state.definition,_defineProperty({},parentRef.ref,_extends({},state.definition[parentRef.ref],_defineProperty({},parentRef.id,_extends({},state.definition[parentRef.ref][parentRef.id],{children:state.definition[parentRef.ref][parentRef.id].children.filter(function(ref){return ref.id!==nodeRef.id})}))))),selectedViewNode:{}}))}function CHANGE_VIEW_NODE_TITLE(nodeRef,e){e.preventDefault();var nodeId=nodeRef.id,nodeType=nodeRef.ref;setState(_extends({},state,{definition:_extends({},state.definition,_defineProperty({},nodeType,_extends({},state.definition[nodeType],_defineProperty({},nodeId,_extends({},state.definition[nodeType][nodeId],{title:e.target.value})))))}))}function CHANGE_STATE_NODE_TITLE(nodeId,e){e.preventDefault(),setState(_extends({},state,{definition:_extends({},state.definition,{state:_extends({},state.definition.state,_defineProperty({},nodeId,_extends({},state.definition.state[nodeId],{title:e.target.value})))})}))}function CHANGE_CURRENT_STATE_TEXT_VALUE(stateId,e){app.setCurrentState(_extends({},app.getCurrentState(),_defineProperty({},stateId,e.target.value))),render()}function CHANGE_CURRENT_STATE_NUMBER_VALUE(stateId,e){try{(0,_big2.default)(e.target.value).toString()!==app.getCurrentState()[stateId].toString()&&(app.setCurrentState(_extends({},app.getCurrentState(),_defineProperty({},stateId,(0,_big2.default)(e.target.value)))),render())}catch(err){}}function CHANGE_STATIC_VALUE(ref,propertyName,type,e){var value=e.target.value;if("number"===type)try{value=(0,_big2.default)(e.target.value)}catch(err){return}"boolean"===type&&(value=value===!0||"true"===value),setState(_extends({},state,{definition:_extends({},state.definition,_defineProperty({},ref.ref,_extends({},state.definition[ref.ref],_defineProperty({},ref.id,_extends({},state.definition[ref.ref][ref.id],_defineProperty({},propertyName,value))))))}))}function ADD_EVENT(propertyName,node){var _extends62,ref=state.selectedViewNode,eventId=uuid();setState(_extends({},state,{definition:_extends({},state.definition,(_extends62={},_defineProperty(_extends62,ref.ref,_extends({},state.definition[ref.ref],_defineProperty({},ref.id,_extends({},state.definition[ref.ref][ref.id],_defineProperty({},propertyName,{ref:"event",id:eventId}))))),_defineProperty(_extends62,"event",_extends({},state.definition.event,_defineProperty({},eventId,{type:propertyName,emitter:node,mutators:[],data:[]}))),_extends62))}))}function SELECT_PIPE(pipeId){setState(_extends({},state,{selectedPipeId:pipeId}))}function RESET_APP_STATE(){app.setCurrentState(app.createDefaultState()),setState(_extends({},state,{eventStack:[]}))}function RESET_APP_DEFINITION(){state.definition!==appDefinition&&setState(_extends({},state,{definition:_extends({},appDefinition)}))}function FULL_SCREEN_CLICKED(value){value!==state.fullScreen&&setState(_extends({},state,{fullScreen:value}))}function render(){function emberEditor(ref,type){function listTransformations(transformations,transType){return transformations.map(function(transRef,index){var transformer=state.definition[transRef.ref][transRef.id];return"equal"===transRef.ref?(0,_h2.default)("div",{},[(0,_h2.default)("div",{key:index,style:{color:"#bdbdbd",cursor:"default",display:"flex"}},[(0,_h2.default)("span",{style:{flex:"1"}},transRef.ref),(0,_h2.default)("span",{style:{flex:"0",color:transformations.length-1!==index?"#bdbdbd":transType===type?"green":"red"}},"true/false")]),(0,_h2.default)("div",{style:{paddingLeft:"15px"}},[emberEditor(transformer.value,type)])]):"add"===transRef.ref?(0,_h2.default)("div",{},[(0,_h2.default)("div",{key:index,style:{color:"#bdbdbd",cursor:"default",display:"flex"}},[(0,_h2.default)("span",{style:{flex:"1"}},transRef.ref),(0,_h2.default)("span",{style:{flex:"0",color:transformations.length-1!==index?"#bdbdbd":transType===type?"green":"red"}},"number")]),(0,_h2.default)("div",{style:{paddingLeft:"15px"}},[emberEditor(transformer.value,"number")])]):"subtract"===transRef.ref?(0,_h2.default)("div",{},[(0,_h2.default)("div",{key:index,style:{color:"#bdbdbd",cursor:"default",display:"flex"}},[(0,_h2.default)("span",{style:{flex:"1"}},transRef.ref),(0,_h2.default)("span",{style:{flex:"0",color:transformations.length-1!==index?"#bdbdbd":transType===type?"green":"red"}},"number")]),(0,_h2.default)("div",{style:{paddingLeft:"15px"}},[emberEditor(transformer.value,"number")])]):"multiply"===transRef.ref?(0,_h2.default)("div",{},[(0,_h2.default)("div",{key:index,style:{color:"#bdbdbd",cursor:"default",display:"flex"}},[(0,_h2.default)("span",{style:{flex:"1"}},transRef.ref),(0,_h2.default)("span",{style:{flex:"0",color:transformations.length-1!==index?"#bdbdbd":transType===type?"green":"red"}},"number")]),(0,_h2.default)("div",{style:{paddingLeft:"15px"}},[emberEditor(transformer.value,"number")])]):"divide"===transRef.ref?(0,_h2.default)("div",{},[(0,_h2.default)("div",{key:index,style:{color:"#bdbdbd",cursor:"default",display:"flex"}},[(0,_h2.default)("span",{style:{flex:"1"}},transRef.ref),(0,_h2.default)("span",{style:{flex:"0",color:transformations.length-1!==index?"#bdbdbd":transType===type?"green":"red"}},"number")]),(0,_h2.default)("div",{style:{paddingLeft:"15px"}},[emberEditor(transformer.value,"number")])]):"remainder"===transRef.ref?(0,_h2.default)("div",{},[(0,_h2.default)("div",{key:index,style:{color:"#bdbdbd",cursor:"default",display:"flex"}},[(0,_h2.default)("span",{style:{flex:"1"}},transRef.ref),(0,_h2.default)("span",{style:{flex:"0",color:transformations.length-1!==index?"#bdbdbd":transType===type?"green":"red"}},"number")]),(0,_h2.default)("div",{style:{paddingLeft:"15px"}},[emberEditor(transformer.value,"number")])]):"join"===transRef.ref?(0,_h2.default)("span",{},[emberEditor(transformer.value,transType)]):"toUpperCase"===transRef.ref?(0,_h2.default)("div",{},[(0,_h2.default)("div",{style:{cursor:"default",display:"flex"}},[(0,_h2.default)("span",{style:{flex:"1",color:"#bdbdbd"}},transRef.ref)])]):"toLowerCase"===transRef.ref?(0,_h2.default)("div",{},[(0,_h2.default)("div",{style:{cursor:"default",display:"flex"}},[(0,_h2.default)("span",{style:{flex:"1",color:"#bdbdbd"}},transRef.ref)])]):"toText"===transRef.ref?(0,_h2.default)("div",{},[(0,_h2.default)("div",{style:{cursor:"default",display:"flex"}},[(0,_h2.default)("span",{style:{flex:"1",color:"#bdbdbd"}},transRef.ref)])]):void 0})}function genTransformators(){var selectedPipe=state.definition.pipe[state.selectedPipeId];return[(0,_h2.default)("div",{style:{position:"fixed",top:"0px",left:"-307px",height:"100%",width:"300px",display:"flex"}},[(0,_h2.default)("div",{style:{border:"3px solid #222",flex:"1 1 0%",background:"#4d4d4d",marginBottom:"10px"}},[selectedPipe.type])])]}var pipe=state.definition[ref.ref][ref.id];if("string"==typeof pipe.value)return(0,_h2.default)("div",{style:{position:"relative"}},[(0,_h2.default)("div",{style:{display:"flex",alignItems:"baseline"},on:{click:[SELECT_PIPE,ref.id]}},[(0,_h2.default)("span",{style:{flex:"0 0 auto",position:"relative",transform:"translateZ(0)"}},[(0,_h2.default)("span",{style:{opacity:"0",display:"inline-block",whiteSpace:"pre",padding:"0 5px 2px 5px",borderBottom:"2px solid white"}},pipe.value),(0,_h2.default)("input",{attrs:{type:"text"},style:{color:"white",outline:"none",boxShadow:"none",textAlign:"center",display:"inline",border:"none",borderBottom:"2px solid white",background:"none",font:"inherit",position:"absolute",top:"0",left:"0",width:"100%",flex:"0 0 auto"},on:{input:[CHANGE_STATIC_VALUE,ref,"value","text"]},liveProps:{value:pipe.value}})])].concat(_toConsumableArray(listTransformations(pipe.transformations,pipe.type))))]);if(pipe.value===!0||pipe.value===!1)return(0,_h2.default)("select",{liveProps:{value:pipe.value.toString()},style:{},on:{input:[CHANGE_STATIC_VALUE,ref,"value","boolean"]}},[(0,_h2.default)("option",{attrs:{value:"true"},style:{color:"black"}},["true"]),(0,_h2.default)("option",{attrs:{value:"false"},style:{color:"black"}},["false"])]);if(!isNaN(parseFloat(Number(pipe.value)))&&isFinite(Number(pipe.value)))return(0,_h2.default)("div",{style:{position:"relative"}},[(0,_h2.default)("div",{style:{display:"flex",alignItems:"center"},on:{click:[SELECT_PIPE,ref.id]}},[(0,_h2.default)("input",{attrs:{type:"number"},style:{background:"none",outline:"none",padding:"0",margin:"0",border:"none",borderRadius:"0",display:"inline-block",width:"100%",color:"white",textDecoration:"underline"},on:{input:[CHANGE_STATIC_VALUE,ref,"value","number"]},liveProps:{value:Number(pipe.value)}}),(0,_h2.default)("div",{style:{flex:"0",cursor:"default",color:pipe.transformations.length>0?"#bdbdbd":"number"===type?"green":"red"}},"number")]),(0,_h2.default)("div",{style:{paddingLeft:"15px"}},listTransformations(pipe.transformations,pipe.type)),(0,_h2.default)("div",state.selectedPipeId===ref.id?genTransformators():[])]);if("state"===pipe.value.ref){var displState=state.definition[pipe.value.ref][pipe.value.id];return(0,_h2.default)("div",{style:{position:"relative"}},[(0,_h2.default)("div",{style:{display:"flex",alignItems:"center"},on:{click:[SELECT_PIPE,ref.id]}},[(0,_h2.default)("div",{style:{flex:"1"}},[(0,_h2.default)("span",{style:{flex:"0 0 auto",display:"inline-block",position:"relative",transform:"translateZ(0)",boxShadow:"inset 0 0 0 2px "+(state.selectedStateNodeId===pipe.value.id?"#eab65c":"#828282"),background:"#444",padding:"4px 7px"}},[(0,_h2.default)("span",{style:{color:"white",display:"inline-block"},on:{click:[STATE_NODE_SELECTED,pipe.value.id]}},displState.title)])])]),(0,_h2.default)("div",{style:{paddingLeft:"15px"}
},listTransformations(pipe.transformations,pipe.type)),(0,_h2.default)("div",state.selectedPipeId===ref.id?genTransformators():[])])}if("listValue"===pipe.value.ref)return(0,_h2.default)("div","TODO");if("eventData"===pipe.value.ref){var eventData=state.definition[pipe.value.ref][pipe.value.id];return(0,_h2.default)("div",[(0,_h2.default)("div",{style:{display:"flex",alignItems:"center"},on:{click:[SELECT_PIPE,ref.id]}},[(0,_h2.default)("div",{style:{flex:"1"}},[(0,_h2.default)("div",{style:{cursor:"pointer",color:state.selectedStateNodeId===pipe.value.id?"#eab65c":"white",padding:"2px 5px",margin:"3px 3px 0 0",border:"2px solid "+(state.selectedStateNodeId===pipe.value.id?"#eab65c":"white"),display:"inline-block"},on:{click:[STATE_NODE_SELECTED,pipe.value.id]}},[eventData.title])]),(0,_h2.default)("div",{style:{flex:"0",cursor:"default",color:pipe.transformations.length>0?"#bdbdbd":eventData.type===type?"green":"red"}},eventData.type)]),(0,_h2.default)("div",{style:{paddingLeft:"15px"}},listTransformations(pipe.transformations,pipe.type))])}}function listState(stateId){var currentState=state.definition.state[stateId];return(0,_h2.default)("div",{style:{cursor:"pointer",position:"relative",fontSize:"14px"}},[(0,_h2.default)("span",{style:{display:"flex",flexWrap:"wrap"}},[(0,_h2.default)("span",{style:{flex:"0 0 auto",position:"relative",transform:"translateZ(0)",margin:"7px 7px 0 0",boxShadow:"inset 0 0 0 2px "+(state.selectedStateNodeId===stateId?"#eab65c":"#828282"),background:"#444",padding:"4px 7px"}},[(0,_h2.default)("span",{style:{opacity:state.editingTitleNodeId===stateId?"0":"1",color:"white",display:"inline-block"},on:{mousedown:[STATE_DRAGGED,stateId],touchstart:[STATE_DRAGGED,stateId],dblclick:[EDIT_VIEW_NODE_TITLE,stateId]}},currentState.title),state.editingTitleNodeId===stateId?function(){return(0,_h2.default)("input",{style:{color:"white",outline:"none",padding:"4px 7px",boxShadow:"none",display:"inline",border:"none",background:"none",font:"inherit",position:"absolute",top:"0",left:"0",width:"100%",flex:"0 0 auto"},on:{input:[CHANGE_STATE_NODE_TITLE,stateId]},liveProps:{value:currentState.title},attrs:{"data-istitleeditor":!0}})}():(0,_h2.default)("span")]),function(){var noStyleInput={color:currentRunningState[stateId]!==state.definition.state[stateId].defaultValue?"rgb(91, 204, 91)":"white",background:"none",outline:"none",display:"inline",flex:"1",minWidth:"50px",border:"none",marginTop:"6px",boxShadow:"inset 0 -2px 0 0 "+(state.selectedStateNodeId===stateId?"#eab65c":"#828282")};if("text"===currentState.type)return(0,_h2.default)("input",{attrs:{type:"text"},liveProps:{value:currentRunningState[stateId]},style:noStyleInput,on:{input:[CHANGE_CURRENT_STATE_TEXT_VALUE,stateId]}});if("number"===currentState.type)return(0,_h2.default)("input",{attrs:{type:"number"},liveProps:{value:currentRunningState[stateId]},style:noStyleInput,on:{input:[CHANGE_CURRENT_STATE_NUMBER_VALUE,stateId]}});if("boolean"===currentState.type)return(0,_h2.default)("select",{liveProps:{value:currentRunningState[stateId].toString()},style:noStyleInput,on:{input:[CHANGE_CURRENT_STATE_NUMBER_VALUE,stateId]}},[(0,_h2.default)("option",{attrs:{value:"true"},style:{color:"black"}},["true"]),(0,_h2.default)("option",{attrs:{value:"false"},style:{color:"black"}},["false"])]);if("table"===currentState.type){var _ret=function(){if(state.selectedStateNodeId!==stateId)return{v:(0,_h2.default)("div",{key:"icon",on:{click:[STATE_NODE_SELECTED,stateId]},style:{display:"flex",alignItems:"center",marginTop:"7px"}},[listIcon()])};var table=currentRunningState[stateId];return{v:(0,_h2.default)("div",{key:"table",style:{background:"#828183",width:"100%",flex:"0 0 100%"}},[(0,_h2.default)("div",{style:{display:"flex"}},Object.keys(currentState.definition).map(function(key){return(0,_h2.default)("div",{style:{flex:"1",padding:"2px 5px",borderBottom:"2px solid white"}},key)}))].concat(_toConsumableArray(Object.keys(table).map(function(id){return(0,_h2.default)("div",{style:{display:"flex"}},Object.keys(table[id]).map(function(key){return(0,_h2.default)("div",{style:{flex:"1",padding:"2px 5px"}},table[id][key])}))}))))}}();if("object"===(void 0===_ret?"undefined":_typeof(_ret)))return _ret.v}}()]),state.selectedStateNodeId===stateId?(0,_h2.default)("span",currentState.mutators.map(function(mutatorRef){var mutator=state.definition[mutatorRef.ref][mutatorRef.id],event=state.definition[mutator.event.ref][mutator.event.id],emitter=state.definition[event.emitter.ref][event.emitter.id];return(0,_h2.default)("div",{style:{display:"flex",cursor:"pointer",alignItems:"center",background:"#444",paddingTop:"3px",paddingBottom:"3px",color:state.selectedViewNode.id===event.emitter.id?"#53B2ED":"white",transition:"0.2s all",minWidth:"100%"},on:{click:[VIEW_NODE_SELECTED,event.emitter]}},[(0,_h2.default)("span",{style:{flex:"0 0 auto",margin:"0 0 0 5px"}},["vNodeBox"===event.emitter.ref?boxIcon():"vNodeList"===event.emitter.ref?listIcon():"vNodeList"===event.emitter.ref?ifIcon():"vNodeInput"===event.emitter.ref?inputIcon():textIcon()]),(0,_h2.default)("span",{style:{flex:"5 5 auto",margin:"0 5px 0 0",minWidth:"0",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},emitter.title),(0,_h2.default)("span",{style:{flex:"0 0 auto",marginLeft:"auto",marginRight:"5px",color:"#5bcc5b"}},event.type)])})):(0,_h2.default)("span")])}function listNode(nodeRef,parentRef,depth){return"_rootNode"===nodeRef.id?listRootNode(nodeRef):"vNodeText"===nodeRef.ref?simpleNode(nodeRef,parentRef,depth):"vNodeImage"===nodeRef.ref?simpleNode(nodeRef,parentRef,depth):"vNodeBox"===nodeRef.ref||"vNodeList"===nodeRef.ref||"vNodeIf"===nodeRef.ref?listBoxNode(nodeRef,parentRef,depth):"vNodeInput"===nodeRef.ref?simpleNode(nodeRef,parentRef,depth):void 0}function prevent_bubbling(e){e.stopPropagation()}function editingNode(nodeRef){return(0,_h2.default)("input",{style:{border:"none",height:"26px",background:"none",color:"#53B2ED",outline:"none",flex:"1",padding:"0",boxShadow:"inset 0 -1px 0 0 #53B2ED",font:"inherit",paddingLeft:"2px"},on:{mousedown:prevent_bubbling,input:[CHANGE_VIEW_NODE_TITLE,nodeRef]},liveProps:{value:state.definition[nodeRef.ref][nodeRef.id].title},attrs:{autofocus:!0,"data-istitleeditor":!0}})}function listRootNode(nodeRef){var nodeId=nodeRef.id,node=state.definition[nodeRef.ref][nodeId];return(0,_h2.default)("div",{style:{position:"relative"}},[(0,_h2.default)("div",{style:{display:"flex",alignItems:"center",paddingLeft:"8px",paddingRight:"8px",background:"#444",borderTop:"2px solid #4d4d4d",borderBottom:"2px solid #333",height:"26px",whiteSpace:"nowrap"},on:{mousemove:[VIEW_HOVERED,nodeRef,{},1],touchmove:[VIEW_HOVER_MOBILE]}},[(0,_h2.default)("span",{key:nodeId,style:{color:state.selectedViewNode.id===nodeId?"#53B2ED":"#bdbdbd",display:"inline-flex"},on:{click:[VIEW_NODE_SELECTED,nodeRef]}},[appIcon()]),state.editingTitleNodeId===nodeId?editingNode(nodeRef):(0,_h2.default)("span",{style:{flex:"1",cursor:"pointer",color:state.selectedViewNode.id===nodeId?"#53B2ED":"white",transition:"color 0.2s",paddingLeft:"2px"},on:{click:[VIEW_NODE_SELECTED,nodeRef],dblclick:[EDIT_VIEW_NODE_TITLE,nodeId]}},node.title)]),(0,_h2.default)("div",state.hoveredViewNode&&state.hoveredViewNode.parent.id===nodeId&&node.children.findIndex(function(ref){return ref.id===state.draggedComponentView.id})!==state.hoveredViewNode.position?function(){var oldPosition=node.children.findIndex(function(ref){return ref.id===state.draggedComponentView.id}),newPosition=oldPosition===-1||state.hoveredViewNode.position<oldPosition?state.hoveredViewNode.position:state.hoveredViewNode.position+1,children=node.children.map(function(ref){return listNode(ref,nodeRef,1)});return children.slice(0,newPosition).concat(spacerComponent(),children.slice(newPosition))}():node.children.map(function(ref){return listNode(ref,nodeRef,1)}))])}function listBoxNode(nodeRef,parentRef,depth){var nodeId=nodeRef.id,node=state.definition[nodeRef.ref][nodeId];return(0,_h2.default)("div",{style:{opacity:state.draggedComponentView&&state.draggedComponentView.id===nodeId?"0.5":"1.0"}},[(0,_h2.default)("div",{key:nodeId,style:{display:"flex",height:"26px",position:"relative",alignItems:"center",paddingLeft:20*(depth-(node.children.length>0||state.hoveredViewNode&&state.hoveredViewNode.parent.id===nodeId?1:0))+8+"px",paddingRight:"8px",background:"#444",borderTop:"2px solid #4d4d4d",borderBottom:"2px solid #333",whiteSpace:"nowrap",color:state.selectedViewNode.id===nodeId?"#53B2ED":"white"},on:{mousedown:[VIEW_DRAGGED,nodeRef,parentRef,depth],touchstart:[VIEW_DRAGGED,nodeRef,parentRef,depth],mousemove:[VIEW_HOVERED,nodeRef,parentRef,depth],touchmove:[VIEW_HOVER_MOBILE]}},[node.children.length>0||state.hoveredViewNode&&state.hoveredViewNode.parent.id===nodeId?(0,_h2.default)("span",{style:{display:"inline-flex"}},[arrowIcon(state.viewFoldersClosed[nodeId]||state.draggedComponentView&&nodeId===state.draggedComponentView.id)]):(0,_h2.default)("span"),(0,_h2.default)("span",{key:nodeId,style:{display:"inline-flex",color:state.selectedViewNode.id===nodeId?"#53B2ED":"#bdbdbd",transition:"color 0.2s"}},["vNodeBox"===nodeRef.ref?boxIcon():"vNodeList"===nodeRef.ref?listIcon():ifIcon()]),state.editingTitleNodeId===nodeId?editingNode(nodeRef):(0,_h2.default)("span",{style:{flex:"1",cursor:"pointer",transition:"color 0.2s",paddingLeft:"2px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},on:{dblclick:[EDIT_VIEW_NODE_TITLE,nodeId]}},node.title),(0,_h2.default)("div",{style:{color:"#53B2ED",cursor:"pointer",display:state.selectedViewNode.id===nodeId?"inline-flex":"none",flex:"0 0 auto"}},[deleteIcon()])]),(0,_h2.default)("div",{style:{display:state.viewFoldersClosed[nodeId]||state.draggedComponentView&&nodeId===state.draggedComponentView.id?"none":"block"}},state.hoveredViewNode&&state.hoveredViewNode.parent.id===nodeId&&node.children.findIndex(function(ref){return ref.id===state.draggedComponentView.id})!==state.hoveredViewNode.position?function(){var oldPosition=node.children.findIndex(function(ref){return ref.id===state.draggedComponentView.id}),newPosition=oldPosition===-1||state.hoveredViewNode.position<oldPosition?state.hoveredViewNode.position:state.hoveredViewNode.position+1,children=node.children.map(function(ref){return listNode(ref,nodeRef,depth+1)});return children.slice(0,newPosition).concat(spacerComponent(),children.slice(newPosition))}():node.children.map(function(ref){return listNode(ref,nodeRef,depth+1)}))])}function simpleNode(nodeRef,parentRef,depth){var nodeId=nodeRef.id,node=state.definition[nodeRef.ref][nodeId];return(0,_h2.default)("div",{key:nodeId,style:{cursor:"pointer",opacity:state.draggedComponentView&&state.draggedComponentView.id===nodeId?"0.5":"1.0",position:"relative",height:"26px",paddingLeft:20*depth+8+"px",paddingRight:"8px",background:"#444",borderTop:"2px solid #4d4d4d",borderBottom:"2px solid #333",whiteSpace:"nowrap",display:"flex",alignItems:"center",color:state.selectedViewNode.id===nodeId?"#53B2ED":"#bdbdbd"},on:{mousedown:[VIEW_DRAGGED,nodeRef,parentRef,depth],touchstart:[VIEW_DRAGGED,nodeRef,parentRef,depth],dblclick:[EDIT_VIEW_NODE_TITLE,nodeId],mousemove:[VIEW_HOVERED,nodeRef,parentRef,depth],touchmove:[VIEW_HOVER_MOBILE]}},["vNodeInput"===nodeRef.ref?inputIcon():textIcon(),state.editingTitleNodeId===nodeId?editingNode(nodeRef):(0,_h2.default)("span",{style:{flex:"1",color:state.selectedViewNode.id===nodeId?"#53B2ED":"white",transition:"color 0.2s",paddingLeft:"2px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},node.title),(0,_h2.default)("div",{style:{color:"#53B2ED",cursor:"pointer",display:state.selectedViewNode.id===nodeId?"inline-flex":"none",flex:"0 0 auto"}},[deleteIcon()])])}function spacerComponent(){return(0,_h2.default)("div",{key:"spacer",style:{cursor:"pointer",height:"6px",boxShadow:"inset 0 0 1px 1px #53B2ED"}})}var currentRunningState=app.getCurrentState(),dragComponentLeft=(0,_h2.default)("div",{on:{mousedown:[WIDTH_DRAGGED,"editorLeftWidth"],touchstart:[WIDTH_DRAGGED,"editorLeftWidth"]},style:{position:"absolute",right:"0",transform:"translateX(100%)",top:"0",width:"10px",height:"100%",textAlign:"center",fontSize:"1em",opacity:"0",cursor:"col-resize"}}),openComponentLeft=(0,_h2.default)("div",{on:{mousedown:[OPEN_SIDEBAR,"left"],touchstart:[OPEN_SIDEBAR,"left"]},style:{position:"absolute",right:"-3px",top:"50%",transform:"translateZ(0) translateX(100%) translateY(-50%)",width:"15px",height:"10%",textAlign:"center",fontSize:"1em",borderRadius:"0 5px 5px 0",background:"#5d5d5d",boxShadow:"inset 0 0 2px 7px #222",cursor:"pointer"}}),openComponentRight=(0,_h2.default)("div",{on:{mousedown:[OPEN_SIDEBAR,"right"],touchstart:[OPEN_SIDEBAR,"right"]},style:{position:"absolute",left:"-3px",top:"50%",transform:"translateZ(0) translateX(-100%) translateY(-50%)",width:"15px",height:"10%",textAlign:"center",fontSize:"1em",borderRadius:"5px 0 0 5px",background:"#5d5d5d",boxShadow:"inset 0 0 2px 7px #222",cursor:"pointer"}}),dragComponentRight=(0,_h2.default)("div",{on:{mousedown:[WIDTH_DRAGGED,"editorRightWidth"],touchstart:[WIDTH_DRAGGED,"editorRightWidth"]},style:{position:"absolute",left:"0",transform:"translateX(-100%)",top:"0",width:"10px",height:"100%",textAlign:"center",fontSize:"1em",opacity:"0",cursor:"col-resize"}}),dragSubComponent=(0,_h2.default)("div",{on:{mousedown:[WIDTH_DRAGGED,"subEditorWidth"],touchstart:[WIDTH_DRAGGED,"subEditorWidth"]},style:{position:"absolute",right:"0px",transform:"translateX(100%)",top:"0",width:"10px",height:"100%",textAlign:"center",fontSize:"1em",opacity:0,cursor:"col-resize"}}),stateComponent=(0,_h2.default)("div",{attrs:{class:"better-scrollbar"},style:{overflow:"auto",flex:"1",padding:"0 10px"},on:{click:[UNSELECT_STATE_NODE]}},state.definition.nameSpace._rootNameSpace.children.map(function(ref){return listState(ref.id)})),addStateComponent=(0,_h2.default)("div",{style:{flex:"0 auto",marginLeft:state.rightOpen?"-10px":"0",border:"3px solid #222",borderRight:"none",background:"#333",height:"40px",display:"flex",alignItems:"center"}},[(0,_h2.default)("span",{style:{fontFamily:"'Comfortaa', sans-serif",fontSize:"0.9em",cursor:"pointer",padding:"0 5px"}},"add state: "),(0,_h2.default)("span",{style:{display:"inline-block"},on:{click:[ADD_STATE,"_rootNameSpace","text"]}},[textIcon()]),(0,_h2.default)("span",{on:{click:[ADD_STATE,"_rootNameSpace","number"]}},[numberIcon()]),(0,_h2.default)("span",{on:{click:[ADD_STATE,"_rootNameSpace","boolean"]}},[ifIcon()]),(0,_h2.default)("span",{on:{click:[ADD_STATE,"_rootNameSpace","table"]}},[listIcon()])]),addViewNodeComponent=(0,_h2.default)("div",{style:{flex:"0 auto",marginLeft:state.rightOpen?"-10px":"0",border:"3px solid #222",borderRight:"none",background:"#333",height:"40px",display:"flex",alignItems:"center"}},[(0,_h2.default)("span",{style:{fontFamily:"'Comfortaa', sans-serif",fontSize:"0.9em",padding:"0 10px"}},"add component: "),(0,_h2.default)("span",{on:{click:[ADD_NODE,state.selectedViewNode,"box"]}},[boxIcon()]),(0,_h2.default)("span",{on:{click:[ADD_NODE,state.selectedViewNode,"input"]}},[inputIcon()]),(0,_h2.default)("span",{on:{click:[ADD_NODE,state.selectedViewNode,"text"]}},[textIcon()]),(0,_h2.default)("span",{on:{click:[ADD_NODE,state.selectedViewNode,"image"]}},[imageIcon()]),(0,_h2.default)("span",{on:{click:[ADD_NODE,state.selectedViewNode,"if"]}},[ifIcon()])]),viewComponent=(0,_h2.default)("div",{attrs:{class:"better-scrollbar"},style:{overflow:"auto",position:"relative",flex:"1",fontSize:"0.8em"},on:{click:[UNSELECT_VIEW_NODE,!0]}},[listNode({ref:"vNodeBox",id:"_rootNode"},{},0)]),rightComponent=(0,_h2.default)("div",{style:{display:"flex",flexDirection:"column",position:"absolute",top:"0",right:"0",color:"white",height:"100%",font:"300 1.2em 'Open Sans'",lineHeight:"1.2em",width:state.editorRightWidth+"px",background:"#4d4d4d",boxSizing:"border-box",borderLeft:"3px solid #222",transition:"0.5s transform",transform:state.rightOpen?"translateZ(0) translateX(0%)":"translateZ(0) translateX(100%)",userSelect:"none"}},[dragComponentRight,openComponentRight,addStateComponent,stateComponent,addViewNodeComponent,viewComponent]),topComponent=(0,_h2.default)("div",{style:{flex:"1 auto",height:"75px",maxHeight:"75px",minHeight:"75px",background:"#222",display:"flex",justifyContent:"center",fontFamily:"'Comfortaa', sans-serif"}},[(0,_h2.default)("a",{style:{flex:"0 auto",width:"190px",textDecoration:"inherit",userSelect:"none"},attrs:{href:"/_dev"}},[(0,_h2.default)("img",{style:{margin:"7px -2px -3px 5px",display:"inline-block"},attrs:{src:"/images/logo256x256.png",height:"57"}}),(0,_h2.default)("span",{style:{fontSize:"44px",verticalAlign:"bottom",color:"#fff"}},"ugnis")]),(0,_h2.default)("div",{style:{position:"absolute",top:"0",right:"0",border:"none",color:"white",fontFamily:"'Comfortaa', sans-serif",fontSize:"16px"}},[(0,_h2.default)("div",{style:{background:"#444444",border:"none",color:"white",display:"inline-block",padding:"15px 20px",margin:"13px 13px 0 0",cursor:"pointer"},on:{click:[FULL_SCREEN_CLICKED,!0]}},"full screen"),(0,_h2.default)("div",{style:{background:"#444444",border:"none",color:"white",display:"inline-block",padding:"15px 20px",margin:"13px 13px 0 0",cursor:"pointer"},on:{click:RESET_APP_STATE}},"reset state"),(0,_h2.default)("div",{style:{background:"#444444",border:"none",color:"white",display:"inline-block",padding:"15px 20px",margin:"13px 13px 0 0",cursor:"pointer"},on:{click:RESET_APP_DEFINITION}},"reset demo")])]),leftComponent=(0,_h2.default)("div",{style:{display:"flex",flexDirection:"column",position:"absolute",top:"0",left:"0",height:"100%",color:"white",font:"300 1.2em 'Open Sans'",width:state.editorLeftWidth+"px",background:"#4d4d4d",boxSizing:"border-box",borderRight:"3px solid #222",transition:"0.5s transform",transform:state.leftOpen?"translateZ(0) translateX(0%)":"translateZ(0) translateX(-100%)",userSelect:"none"}},[dragComponentLeft,openComponentLeft,(0,_h2.default)("div",{on:{click:FREEZER_CLICKED},style:{flex:"0 auto",padding:"10px",textAlign:"center",background:"#333",cursor:"pointer"}},[(0,_h2.default)("span",{style:{padding:"15px 15px 10px 15px",color:state.appIsFrozen?"rgb(91, 204, 91)":"rgb(204, 91, 91)"}},state.appIsFrozen?"":"")]),(0,_h2.default)("div",{attrs:{class:"better-scrollbar"},style:{flex:"1 auto",overflow:"auto"}},state.eventStack.filter(function(eventData){return void 0!==state.definition.event[eventData.eventId]}).reverse().map(function(eventData,index){var event=state.definition.event[eventData.eventId],emitter=state.definition[event.emitter.ref][event.emitter.id];return(0,_h2.default)("div",{key:event.emitter.id+index,style:{marginBottom:"10px"}},[(0,_h2.default)("div",{style:{display:"flex",marginBottom:"10px",cursor:"pointer",alignItems:"center",background:"#444",paddingTop:"3px",paddingBottom:"3px",color:state.selectedViewNode.id===event.emitter.id?"#53B2ED":"white",transition:"0.2s all",minWidth:"100%"},on:{click:[VIEW_NODE_SELECTED,event.emitter]}},[(0,_h2.default)("span",{style:{flex:"0 0 auto",margin:"0 0 0 5px"}},["vNodeBox"===event.emitter.ref?boxIcon():"vNodeList"===event.emitter.ref?listIcon():"vNodeList"===event.emitter.ref?ifIcon():"vNodeInput"===event.emitter.ref?inputIcon():textIcon()]),(0,_h2.default)("span",{style:{flex:"5 5 auto",margin:"0 5px 0 0",minWidth:"0",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},emitter.title),(0,_h2.default)("span",{style:{flex:"0 0 auto",fontFamily:"'Comfortaa', sans-serif",fontSize:"0.9em",marginLeft:"auto",marginRight:"5px",color:"#5bcc5b"}},event.type)]),0===Object.keys(eventData.mutations).length?(0,_h2.default)("div",{style:{padding:"5px 10px",fontFamily:"'Comfortaa', sans-serif",color:"#bdbdbd"}},"nothing has changed"):(0,_h2.default)("div",{style:{paddingLeft:"10px",whiteSpace:"nowrap"}},Object.keys(eventData.mutations).filter(function(stateId){return void 0!==state.definition.state[stateId]}).map(function(stateId){return(0,_h2.default)("span",[(0,_h2.default)("span",{on:{click:[STATE_NODE_SELECTED,stateId]},style:{cursor:"pointer",fontSize:"14px",color:"white",boxShadow:"inset 0 0 0 2px "+(state.selectedStateNodeId===stateId?"#eab65c":"#828282"),background:"#444",padding:"2px 5px",marginRight:"5px",display:"inline-block",transition:"all 0.2s"}},state.definition.state[stateId].title),(0,_h2.default)("span",{style:{color:"#8e8e8e"}},eventData.previousState[stateId].toString()+"  "),(0,_h2.default)("span",eventData.mutations[stateId].toString())])}))])}))]),renderViewComponent=(0,_h2.default)("div",{style:{flex:"1 auto",backgroundPositionX:"0px, 8px, 0px, 8px",backgroundPositionY:"0px, 8px, 1px, 9px",backgroundColor:"#333",backgroundSize:"16px 16px",display:"relative",overflow:"auto"}},[(0,_h2.default)("div",{style:function(){var widthLeft=window.innerWidth-((state.leftOpen?state.editorLeftWidth:0)+(state.rightOpen?state.editorRightWidth:0)),heightLeft=window.innerHeight-75;return{width:state.fullScreen?"100vw":widthLeft-40+"px",height:state.fullScreen?"100vh":heightLeft-40+"px",background:"#ffffff",zIndex:state.fullScreen?"2000":"100",boxShadow:"rgba(0, 0, 0, 0.247059) 0px 14px 45px, rgba(0, 0, 0, 0.219608) 0px 10px 18px",position:"fixed",transition:"all 0.5s",top:state.fullScreen?"0px":"95px",left:state.fullScreen?"0px":(state.leftOpen?state.editorLeftWidth:0)+20+"px"}}()},[state.fullScreen?(0,_h2.default)("span",{style:{position:"fixed",padding:"12px 10px",top:"0",right:"20px",border:"2px solid #333",borderTop:"none",background:"#444",color:"white",opacity:"0.8",cursor:"pointer"},on:{click:[FULL_SCREEN_CLICKED,!1]}},"exit full screen"):(0,_h2.default)("span"),(0,_h2.default)("div",{style:{overflow:"auto",width:"100%",height:"100%"}},[app.vdom])])]),mainRowComponent=(0,_h2.default)("div",{style:{display:"flex",flex:"1",position:"relative"}},[renderViewComponent,leftComponent,rightComponent,state.selectedViewNode.ref?function(){var styles=["background","border","outline","cursor","color","display","top","bottom","left","flex","justifyContent","alignItems","width","height","maxWidth","maxHeight","minWidth","minHeight","right","position","overflow","font","margin","padding"],selectedNode=state.definition[state.selectedViewNode.ref][state.selectedViewNode.id],propsComponent=(0,_h2.default)("div",{style:{background:"props"===state.selectedViewSubMenu?"#4d4d4d":"#3d3d3d",padding:"10px 0",flex:"1",cursor:"pointer",textAlign:"center"},on:{click:[SELECT_VIEW_SUBMENU,"props"]}},"data"),styleComponent=(0,_h2.default)("div",{style:{background:"style"===state.selectedViewSubMenu?"#4d4d4d":"#3d3d3d",padding:"10px 0",flex:"1",borderRight:"1px solid #222",borderLeft:"1px solid #222",textAlign:"center",cursor:"pointer"},on:{click:[SELECT_VIEW_SUBMENU,"style"]}},"style"),eventsComponent=(0,_h2.default)("div",{style:{background:"events"===state.selectedViewSubMenu?"#4d4d4d":"#3d3d3d",padding:"10px 0",flex:"1",textAlign:"center",cursor:"pointer"},on:{click:[SELECT_VIEW_SUBMENU,"events"]}},"events"),fullVNode=["vNodeBox","vNodeText","vNodeImage","vNodeInput"].includes(state.selectedViewNode.ref);return(0,_h2.default)("div",{style:{position:"fixed",font:"300 1.2em 'Open Sans'",lineHeight:"1.2em",color:"white",left:state.componentEditorPosition?state.componentEditorPosition.x+"px":void 0,right:state.componentEditorPosition?void 0:(state.rightOpen?state.editorRightWidth:0)+10+"px",top:state.componentEditorPosition?state.componentEditorPosition.y+"px":"50%",height:"50%",display:"flex",zIndex:"3000"}},[(0,_h2.default)("div",{style:{flex:"1",display:"flex",marginBottom:"10px",flexDirection:"column",background:"#4d4d4d",width:state.subEditorWidth+"px",border:"3px solid #222"}},[(0,_h2.default)("div",{style:{flex:"0 0 auto"}},[(0,_h2.default)("div",{style:{display:"flex",cursor:"default",alignItems:"center",background:"#222",paddingTop:"2px",paddingBottom:"5px",color:"#53B2ED",minWidth:"100%"},on:{mousedown:[COMPONENT_VIEW_DRAGGED],touchstart:[COMPONENT_VIEW_DRAGGED]}},[(0,_h2.default)("span",{style:{flex:"0 0 auto",margin:"0 0 0 5px",display:"inline-flex"}},["_rootNode"===state.selectedViewNode.id?appIcon():"vNodeBox"===state.selectedViewNode.ref?boxIcon():"vNodeList"===state.selectedViewNode.ref?listIcon():"vNodeList"===state.selectedViewNode.ref?ifIcon():"vNodeInput"===state.selectedViewNode.ref?inputIcon():textIcon()]),(0,_h2.default)("span",{style:{flex:"5 5 auto",margin:"0 5px 0 0",minWidth:"0",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},selectedNode.title),(0,_h2.default)("span",{style:{flex:"0 0 auto",marginLeft:"auto",cursor:"pointer",marginRight:"5px",color:"white",display:"inline-flex"},on:{mousedown:[UNSELECT_VIEW_NODE,!1],touchstart:[UNSELECT_VIEW_NODE,!1]}},[clearIcon()])])]),fullVNode?(0,_h2.default)("div",{style:{display:"flex",flex:"0 0 auto",fontFamily:"'Comfortaa', sans-serif"}},[propsComponent,styleComponent,eventsComponent]):(0,_h2.default)("span"),state.componentEditorPosition?dragSubComponent:(0,_h2.default)("span"),"props"!==state.selectedViewSubMenu&&fullVNode?"style"===state.selectedViewSubMenu?function(){var selectedStyle=state.definition.style[selectedNode.style.id];return(0,_h2.default)("div",{attrs:{class:"better-scrollbar"},style:{overflow:"auto"}},[(0,_h2.default)("div",{style:{padding:"10px",fontFamily:"'Comfortaa', sans-serif",color:"#bdbdbd"}},"style panel will change a lot in 1.0v, right now it's just CSS")].concat(_toConsumableArray(Object.keys(selectedStyle).map(function(key){return(0,_h2.default)("div",{style:{}},[(0,_h2.default)("div",{style:{display:"flex",alignItems:"center",background:"#676767",padding:"5px 10px",marginBottom:"10px"}},[(0,_h2.default)("span",{style:{flex:"1"}},key),(0,_h2.default)("div",{style:{flex:"0",cursor:"default",color:"#bdbdbd"}},"text")]),(0,_h2.default)("div",{style:{padding:"5px 10px"}},[emberEditor(selectedStyle[key],"text")])])})),[(0,_h2.default)("div",{style:{padding:"5px 10px",fontFamily:"'Comfortaa', sans-serif",color:"#bdbdbd"}},"add Style:"),(0,_h2.default)("div",{style:{padding:"5px 0 5px 10px"}},styles.filter(function(key){return!Object.keys(selectedStyle).includes(key)}).map(function(key){return(0,_h2.default)("div",{on:{click:[ADD_DEFAULT_STYLE,selectedNode.style.id,key]},style:{cursor:"pointer",border:"3px solid white",padding:"5px",marginTop:"5px"}},"+ "+key)}))]))}():"events"===state.selectedViewSubMenu?function(){var availableEvents=[{description:"on click",propertyName:"click"},{description:"double clicked",propertyName:"dblclick"},{description:"mouse over",propertyName:"mouseover"},{description:"mouse out",propertyName:"mouseout"}];"vNodeInput"===state.selectedViewNode.ref&&(availableEvents=availableEvents.concat([{description:"input",propertyName:"input"},{description:"focus",propertyName:"focus"},{description:"blur",propertyName:"blur"}]));var currentEvents=availableEvents.filter(function(event){return selectedNode[event.propertyName]}),eventsLeft=availableEvents.filter(function(event){return!selectedNode[event.propertyName]});return(0,_h2.default)("div",{style:{paddingTop:"20px"}},[].concat(_toConsumableArray(currentEvents.length?currentEvents.map(function(eventDesc){var event=state.definition[selectedNode[eventDesc.propertyName].ref][selectedNode[eventDesc.propertyName].id];return(0,_h2.default)("div",[(0,_h2.default)("div",{style:{background:"#676767",padding:"5px 10px"}},event.type),(0,_h2.default)("div",{style:{color:"white",transition:"color 0.2s",fontSize:"14px",cursor:"pointer",padding:"5px 10px"}},event.mutators.map(function(mutatorRef){var mutator=state.definition[mutatorRef.ref][mutatorRef.id],stateDef=state.definition[mutator.state.ref][mutator.state.id];return(0,_h2.default)("div",{style:{marginTop:"10px"}},[(0,_h2.default)("span",{style:{flex:"0 0 auto",display:"inline-block",position:"relative",transform:"translateZ(0)",boxShadow:"inset 0 0 0 2px "+(state.selectedStateNodeId===mutator.state.id?"#eab65c":"#828282"),background:"#444",padding:"4px 7px"}},[(0,_h2.default)("span",{style:{color:"white",display:"inline-block"},on:{click:[STATE_NODE_SELECTED,mutator.state.id]}},stateDef.title)]),emberEditor(mutator.mutation,stateDef.type)])}))])}):[]),[(0,_h2.default)("div",{style:{padding:"5px 10px",fontFamily:"'Comfortaa', sans-serif",color:"#bdbdbd"}},"add Event:"),(0,_h2.default)("div",{style:{padding:"5px 0 5px 10px"}},[].concat(_toConsumableArray(eventsLeft.map(function(event){return(0,_h2.default)("div",{style:{border:"3px solid #5bcc5b",cursor:"pointer",padding:"5px",margin:"10px"},on:{click:[ADD_EVENT,event.propertyName,state.selectedViewNode]}},"+ "+event.description)}))))]))}():(0,_h2.default)("span","Error, no such menu"):function(){return(0,_h2.default)("div",[function(){return"vNodeBox"===state.selectedViewNode.ref?(0,_h2.default)("div",{style:{textAlign:"center",marginTop:"100px",color:"#bdbdbd"}},"no data required"):"vNodeText"===state.selectedViewNode.ref?(0,_h2.default)("div",{style:{overflow:"auto"},attrs:{class:"better-scrollbar"}},[(0,_h2.default)("div",{style:{display:"flex",alignItems:"center",background:"#676767",padding:"5px 10px",marginBottom:"10px"}},[(0,_h2.default)("span",{style:{flex:"1"}},"text value"),(0,_h2.default)("div",{style:{flex:"0",cursor:"default",color:"#bdbdbd"}},"text")]),(0,_h2.default)("div",{style:{padding:"5px 10px"}},[emberEditor(selectedNode.value,"text")])]):"vNodeImage"===state.selectedViewNode.ref?(0,_h2.default)("div",{style:{overflow:"auto"},attrs:{class:"better-scrollbar"}},[(0,_h2.default)("div",{style:{display:"flex",alignItems:"center",background:"#676767",padding:"5px 10px",marginBottom:"10px"}},[(0,_h2.default)("span",{style:{flex:"1"}},"source (url)"),(0,_h2.default)("div",{style:{flex:"0",cursor:"default",color:"#bdbdbd"}},"text")]),(0,_h2.default)("div",{style:{padding:"5px 10px"}},[emberEditor(selectedNode.src,"text")])]):"vNodeInput"===state.selectedViewNode.ref?(0,_h2.default)("div",{style:{overflow:"auto"},attrs:{class:"better-scrollbar"}},[(0,_h2.default)("div",{style:{display:"flex",alignItems:"center",background:"#676767",padding:"5px 10px",marginBottom:"10px"}},[(0,_h2.default)("span",{style:{flex:"1"}},"input value"),(0,_h2.default)("div",{style:{flex:"0",cursor:"default",color:"#bdbdbd"}},"text")]),(0,_h2.default)("div",{style:{padding:"5px 10px"}},[emberEditor(selectedNode.value,"text")])]):"vNodeList"===state.selectedViewNode.ref?(0,_h2.default)("div",{style:{overflow:"auto"},attrs:{class:"better-scrollbar"}},[(0,_h2.default)("div",{style:{display:"flex",alignItems:"center",background:"#676767",padding:"5px 10px",marginBottom:"10px"}},[(0,_h2.default)("span",{style:{flex:"1"}},"table"),(0,_h2.default)("div",{style:{flex:"0",cursor:"default",color:"#bdbdbd"}},"table")]),(0,_h2.default)("div",{style:{padding:"5px 10px"}},[emberEditor(selectedNode.value,"table")])]):"vNodeIf"===state.selectedViewNode.ref?(0,_h2.default)("div",{style:{overflow:"auto"},attrs:{class:"better-scrollbar"}},[(0,_h2.default)("div",{style:{display:"flex",alignItems:"center",background:"#676767",padding:"5px 10px",marginBottom:"10px"}},[(0,_h2.default)("span",{style:{flex:"1"}},"predicate"),(0,_h2.default)("div",{style:{flex:"0",cursor:"default",color:"#bdbdbd"}},"true/false")]),(0,_h2.default)("div",{style:{padding:"5px 10px"}},[emberEditor(selectedNode.value,"boolean")])]):void 0}()])}()])])}():(0,_h2.default)("span")]);node=patch(node,(0,_h2.default)("div",{style:{display:"flex",flexDirection:"column",position:"fixed",top:"0",right:"0",width:"100vw",height:"100vh"}},[topComponent,mainRowComponent,state.draggedComponentView?(0,_h2.default)("div",{style:{fontFamily:"Open Sans",pointerEvents:"none",position:"fixed",top:state.mousePosition.y+"px",left:state.mousePosition.x+"px",lineHeight:"1.2em",fontSize:"1.2em",zIndex:"99999",width:state.editorRightWidth+"px"}},[(0,_h2.default)("div",{style:{overflow:"auto",position:"relative",flex:"1",fontSize:"0.8em"}},[function(nodeRef,depth){var nodeId=nodeRef.id,node=state.definition[nodeRef.ref][nodeId];return(0,
_h2.default)("div",{key:"_fake"+nodeId,style:{cursor:"pointer",transition:"padding-left 0.2s",height:"26px",paddingLeft:20*(depth-(node.children&&node.children.length>0?1:0))+8+"px",paddingRight:"8px",background:"rgba(68,68,68,0.8)",borderTop:"2px solid #4d4d4d",borderBottom:"2px solid #333",whiteSpace:"nowrap",display:"flex",alignItems:"center",color:state.selectedViewNode.id===nodeId?"#53B2ED":"#bdbdbd"}},[("vNodeBox"===nodeRef.ref||"vNodeList"===nodeRef.ref||"vNodeIf"===nodeRef.ref)&&node.children.length>0?arrowIcon(!0):(0,_h2.default)("span",{key:"_fakeSpan"+nodeId}),"vNodeBox"===nodeRef.ref?boxIcon():"vNodeList"===nodeRef.ref?listIcon():"vNodeIf"===nodeRef.ref?ifIcon():"vNodeInput"===nodeRef.ref?inputIcon():textIcon(),(0,_h2.default)("span",{style:{flex:"1",color:state.selectedViewNode.id===nodeId?"#53B2ED":"white",transition:"color 0.2s",paddingLeft:"2px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},node.title)])}(state.draggedComponentView,state.hoveredViewNode?state.hoveredViewNode.depth:state.draggedComponentView.depth)])]):(0,_h2.default)("span"),state.draggedComponentStateId?(0,_h2.default)("div",{style:{fontFamily:"Open Sans",pointerEvents:"none",position:"fixed",top:state.mousePosition.y+"px",left:state.mousePosition.x+"px",lineHeight:"1.2em",fontSize:"16px",zIndex:"99999",width:state.editorRightWidth+"px"}},[function(stateId){var currentState=state.definition.state[stateId];return(0,_h2.default)("span",{style:{flex:"0 0 auto",position:"relative",transform:"translateZ(0)",margin:"7px 7px 0 0",boxShadow:"inset 0 0 0 2px "+(state.selectedStateNodeId===stateId?"#eab65c":"#828282"),background:"#444",padding:"4px 7px"}},[(0,_h2.default)("span",{style:{color:"white",display:"inline-block"}},currentState.title)])}(state.draggedComponentStateId)]):(0,_h2.default)("span")])),currentAnimationFrameRequest=null}var savedDefinition=JSON.parse(localStorage.getItem("app_key_"+version)),app=(0,_ugnis2.default)(savedDefinition||appDefinition),node=document.createElement("div");document.body.appendChild(node);var state={leftOpen:!1,rightOpen:!0,fullScreen:!1,editorRightWidth:350,editorLeftWidth:350,subEditorWidth:350,componentEditorPosition:null,appIsFrozen:!1,selectedViewNode:{},selectedPipeId:"",selectedStateNodeId:"",selectedViewSubMenu:"props",editingTitleNodeId:"",viewFoldersClosed:{},draggedComponentView:null,draggedComponentStateId:null,hoveredViewNode:null,mousePosition:{},eventStack:[],definition:savedDefinition||app.definition},stateStack=[state.definition],currentAnimationFrameRequest=null;document.addEventListener("click",function(e){state.editingTitleNodeId&&!e.target.dataset.istitleeditor&&setState(_extends({},state,{editingTitleNodeId:""}))}),window.addEventListener("resize",function(){render()},!1),window.addEventListener("orientationchange",function(){render()},!1),document.addEventListener("keydown",function(e){if(83===e.which&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey))return e.preventDefault(),fetch("/save",{method:"POST",body:JSON.stringify(state.definition),headers:{"Content-Type":"application/json"}}),!1;if(32===e.which&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&(e.preventDefault(),FREEZER_CLICKED()),!e.shiftKey&&90===e.which&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)){e.preventDefault();var currentIndex=stateStack.findIndex(function(a){return a===state.definition});currentIndex>0&&setState(_extends({},state,{definition:stateStack[currentIndex-1]}),!0)}if(89===e.which&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)||e.shiftKey&&90===e.which&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)){e.preventDefault();var _currentIndex=stateStack.findIndex(function(a){return a===state.definition});_currentIndex<stateStack.length-1&&setState(_extends({},state,{definition:stateStack[_currentIndex+1]}),!0)}13===e.which&&setState(_extends({},state,{editingTitleNodeId:""})),27===e.which&&FULL_SCREEN_CLICKED(!1)}),app.addListener(function(eventId,data,e,previousState,currentState,mutations){setState(_extends({},state,{eventStack:state.eventStack.concat({eventId:eventId,data:data,e:e,previousState:previousState,currentState:currentState,mutations:mutations})}))});var openBoxTimeout=null,boxIcon=function(){return(0,_h2.default)("i",{attrs:{class:"material-icons"}},"crop_square")},ifIcon=function(){return(0,_h2.default)("i",{attrs:{class:"material-icons"}},"done")},numberIcon=function(){return(0,_h2.default)("i",{attrs:{class:"material-icons"}},"looks_one")},listIcon=function(){return(0,_h2.default)("i",{attrs:{class:"material-icons"}},"view_list")},inputIcon=function(){return(0,_h2.default)("i",{attrs:{class:"material-icons"}},"input")},textIcon=function(){return(0,_h2.default)("i",{attrs:{class:"material-icons"}},"text_fields")},deleteIcon=function(){return(0,_h2.default)("i",{attrs:{class:"material-icons","data-trashcan":!0}},"delete_forever")},clearIcon=function(){return(0,_h2.default)("i",{attrs:{class:"material-icons"}},"clear")},imageIcon=function(){return(0,_h2.default)("i",{attrs:{class:"material-icons"}},"image")},appIcon=function(){return(0,_h2.default)("i",{attrs:{class:"material-icons"},style:{fontSize:"18px"}},"description")},arrowIcon=function(rotate){return(0,_h2.default)("i",{attrs:{class:"material-icons","data-closearrow":!0},style:{transition:"all 0.2s",transform:rotate?"rotate(-90deg)":"rotate(0deg)",cursor:"pointer"}},"expand_more")};render()}(_app2.default)},{"../node_modules/big.js":1,"../ugnis_components/app.json":15,"./ugnis":14,fastclick:2,snabbdom:11,"snabbdom/h":3,"snabbdom/modules/attributes":6,"snabbdom/modules/class":7,"snabbdom/modules/eventlisteners":8,"snabbdom/modules/props":9,"snabbdom/modules/style":10}],14:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function updateProps(oldVnode,vnode){var key,cur,elm=vnode.elm,props=vnode.data.liveProps||{};for(key in props)cur=props[key],elm[key]!==cur&&(elm[key]=cur)}function flatten(arr){return arr.reduce(function(flat,toFlatten){return flat.concat(Array.isArray(toFlatten)?flatten(toFlatten):toFlatten)},[])}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_snabbdom=require("snabbdom"),_snabbdom2=_interopRequireDefault(_snabbdom),_h=require("snabbdom/h"),_h2=_interopRequireDefault(_h),_big=require("big.js"),_big2=_interopRequireDefault(_big),livePropsPlugin={create:updateProps,update:updateProps},patch=_snabbdom2.default.init([require("snabbdom/modules/class"),require("snabbdom/modules/props"),require("snabbdom/modules/style"),require("snabbdom/modules/eventlisteners"),require("snabbdom/modules/attributes"),livePropsPlugin]);exports.default=function(definition){function selectNodeHover(ref,e){e.stopPropagation(),selectedNodeInDevelopment=ref,frozenCallback(ref),render()}function selectNodeClick(ref,e){e.stopPropagation(),selectHoverActive=!1,selectedNodeInDevelopment=ref,frozenCallback(ref),render()}function resolve(ref){if(void 0!==ref){if(void 0===ref.ref)return ref;var def=definition[ref.ref][ref.id];if("pipe"===ref.ref)return pipe(ref);if("conditional"===ref.ref)return resolve(resolve(def.predicate)?def.then:def.else);if("state"===ref.ref)return currentState[ref.id];if("vNodeBox"===ref.ref)return boxNode(ref);if("vNodeText"===ref.ref)return textNode(ref);if("vNodeInput"===ref.ref)return inputNode(ref);if("vNodeList"===ref.ref)return listNode(ref);if("vNodeIf"===ref.ref)return ifNode(ref);if("vNodeImage"===ref.ref)return imageNode(ref);if("style"===ref.ref)return Object.keys(def).reduce(function(acc,val){return acc[val]=resolve(def[val]),acc},{});if("eventData"===ref.ref)return eventData[ref.id];if("listValue"===ref.ref)return currentMapValue[def.list.id][def.property];throw Error(ref)}}function transformValue(value,transformations){for(var i=0;i<transformations.length;i++){var ref=transformations[i],transformer=definition[ref.ref][ref.id];if("equal"===ref.ref){var compareValue=resolve(transformer.value);value=value instanceof _big2.default||compareValue instanceof _big2.default?(0,_big2.default)(value).eq(compareValue):value===compareValue}"add"===ref.ref&&(value=(0,_big2.default)(value).plus(resolve(transformer.value))),"subtract"===ref.ref&&(value=(0,_big2.default)(value).minus(resolve(transformer.value))),"multiply"===ref.ref&&(value=(0,_big2.default)(value).times(resolve(transformer.value))),"divide"===ref.ref&&(value=(0,_big2.default)(value).div(resolve(transformer.value))),"remainder"===ref.ref&&(value=(0,_big2.default)(value).mod(resolve(transformer.value))),"branch"===ref.ref&&(value=resolve(transformer.predicate)?transformValue(value,transformer.then):transformValue(value,transformer.else)),"join"===ref.ref&&(value=value.concat(resolve(transformer.value))),"toUpperCase"===ref.ref&&(value=value.toUpperCase()),"toLowerCase"===ref.ref&&(value=value.toLowerCase()),"toText"===ref.ref&&(value=value.toString())}return value}function pipe(ref){var def=definition[ref.ref][ref.id];return transformValue(resolve(def.value),def.transformations)}function boxNode(ref){var node=definition[ref.ref][ref.id],style=resolve(node.style),data={style:frozen&&selectedNodeInDevelopment.id===ref.id?_extends({},style,{transition:"box-shadow 0.2s",boxShadow:style.boxShadow?style.boxShadow+" , "+frozenShadow:frozenShadow}):style,on:frozen?{mouseover:selectHoverActive?[selectNodeHover,ref]:void 0,click:[selectNodeClick,ref]}:{click:node.click?[emitEvent,node.click]:void 0,dblclick:node.dblclick?[emitEvent,node.dblclick]:void 0,mouseover:node.mouseover?[emitEvent,node.mouseover]:void 0,mouseout:node.mouseout?[emitEvent,node.mouseout]:void 0}};return(0,_h2.default)("div",data,flatten(node.children.map(resolve)))}function ifNode(ref){var node=definition[ref.ref][ref.id];return resolve(node.value)?node.children.map(resolve):[]}function textNode(ref){var node=definition[ref.ref][ref.id],style=resolve(node.style),data={style:frozen&&selectedNodeInDevelopment.id===ref.id?_extends({},style,{transition:"box-shadow 0.2s",boxShadow:style.boxShadow?style.boxShadow+" , "+frozenShadow:frozenShadow}):style,on:frozen?{mouseover:selectHoverActive?[selectNodeHover,ref]:void 0,click:[selectNodeClick,ref]}:{click:node.click?[emitEvent,node.click]:void 0,dblclick:node.dblclick?[emitEvent,node.dblclick]:void 0,mouseover:node.mouseover?[emitEvent,node.mouseover]:void 0,mouseout:node.mouseout?[emitEvent,node.mouseout]:void 0}};return(0,_h2.default)("span",data,resolve(node.value))}function imageNode(ref){var node=definition[ref.ref][ref.id],style=resolve(node.style),data={attrs:{src:resolve(node.src)},style:frozen&&selectedNodeInDevelopment.id===ref.id?_extends({},style,{transition:"box-shadow 0.2s",boxShadow:style.boxShadow?style.boxShadow+" , "+frozenShadow:frozenShadow}):style,on:frozen?{mouseover:selectHoverActive?[selectNodeHover,ref]:void 0,click:[selectNodeClick,ref]}:{click:node.click?[emitEvent,node.click]:void 0,dblclick:node.dblclick?[emitEvent,node.dblclick]:void 0,mouseover:node.mouseover?[emitEvent,node.mouseover]:void 0,mouseout:node.mouseout?[emitEvent,node.mouseout]:void 0}};return(0,_h2.default)("img",data)}function inputNode(ref){var node=definition[ref.ref][ref.id],style=resolve(node.style),data={style:frozen&&selectedNodeInDevelopment.id===ref.id?_extends({},style,{transition:"box-shadow 0.2s",boxShadow:style.boxShadow?style.boxShadow+" , "+frozenShadow:frozenShadow}):style,on:frozen?{mouseover:selectHoverActive?[selectNodeHover,ref]:void 0,click:[selectNodeClick,ref]}:{click:node.click?[emitEvent,node.click]:void 0,input:node.input?[emitEvent,node.input]:void 0,dblclick:node.dblclick?[emitEvent,node.dblclick]:void 0,mouseover:node.mouseover?[emitEvent,node.mouseover]:void 0,mouseout:node.mouseout?[emitEvent,node.mouseout]:void 0,focus:node.focus?[emitEvent,node.focus]:void 0,blur:node.blur?[emitEvent,node.blur]:void 0},props:{value:resolve(node.value),placeholder:node.placeholder}};return(0,_h2.default)("input",data)}function listNode(ref){var node=definition[ref.ref][ref.id],list=resolve(node.value),children=Object.keys(list).map(function(key){return list[key]}).map(function(value,index){return currentMapValue[ref.id]=value,currentMapIndex[ref.id]=index,node.children.map(resolve)});return delete currentMapValue[ref.id],delete currentMapIndex[ref.id],children}function addListener(callback){var length=listeners.push(callback);return function(){return listeners.splice(length-1,1)}}function emitEvent(eventRef,e){var eventId=eventRef.id,event=definition.event[eventId];currentEvent=e,event.data.forEach(function(ref){"_input"===ref.id&&(eventData[ref.id]=e.target.value)});var previousState=currentState,mutations={};definition.event[eventId].mutators.forEach(function(ref){var mutator=definition.mutator[ref.id];mutations[mutator.state.id]=resolve(mutator.mutation)}),currentState=Object.assign({},currentState,mutations),listeners.forEach(function(callback){return callback(eventId,eventData,e,previousState,currentState,mutations)}),currentEvent={},eventData={},Object.keys(mutations).length&&render()}function render(newDefinition){if(newDefinition)if(definition.state!==newDefinition.state){definition=newDefinition;var newState=Object.keys(definition.state).map(function(key){return definition.state[key]}).reduce(function(acc,def){return acc[def.ref]=def.defaultValue,acc},{});currentState=_extends({},newState,currentState)}else definition=newDefinition;var newvdom=resolve({ref:"vNodeBox",id:"_rootNode"});patch(vdom,newvdom),vdom=newvdom}function _freeze(isFrozen,callback,nodeId){frozenCallback=callback,selectedNodeInDevelopment=nodeId,frozen===!1&&isFrozen===!0&&(selectHoverActive=!0),(frozen||frozen!==isFrozen)&&(frozen=isFrozen,render())}function getCurrentState(){return currentState}function setCurrentState(newState){currentState=newState,render()}function createDefaultState(){return Object.keys(definition.state).map(function(key){return definition.state[key]}).reduce(function(acc,def){return acc[def.ref]=def.defaultValue,acc},{})}var currentState=createDefaultState(),frozen=!1,frozenCallback=null,selectHoverActive=!1,selectedNodeInDevelopment={},currentEvent=null,currentMapValue={},currentMapIndex={},eventData={},frozenShadow="inset 0 0 0 3px #3590df",listeners=[],vdom=resolve({ref:"vNodeBox",id:"_rootNode"});return{definition:definition,vdom:vdom,getCurrentState:getCurrentState,setCurrentState:setCurrentState,render:render,emitEvent:emitEvent,addListener:addListener,_freeze:_freeze,_resolve:resolve,createDefaultState:createDefaultState}}},{"big.js":1,snabbdom:11,"snabbdom/h":3,"snabbdom/modules/attributes":6,"snabbdom/modules/class":7,"snabbdom/modules/eventlisteners":8,"snabbdom/modules/props":9,"snabbdom/modules/style":10}],15:[function(require,module,exports){module.exports={eventData:{_input:{title:"input value",type:"text"}},toLowerCase:{},toUpperCase:{},conditional:{},equal:{"a7251af0-50a7-4823-85a0-66ce09d8a3cc":{value:{ref:"pipe",id:"ee2423e6-5b48-41ae-8ccf-6a2c7b46d2f8"}}},not:{},list:{},toText:{"7bs9d6d2-00db-8ab5-c332-882575f25426":{}},listValue:{"pz7hd6d2-00db-8ab5-c332-882575f25426":{type:"number",list:{ref:"vNodeList",id:"fl89d6d2-00db-8ab5-c332-882575f25425"},property:"x"},"hj9wd6d2-00db-8ab5-c332-882575f25426":{type:"number",list:{ref:"vNodeList",id:"fl89d6d2-00db-8ab5-c332-882575f25425"},property:"y"},"hhr8b6d2-00db-8ab5-c332-882575f25426":{type:"text",list:{ref:"vNodeList",id:"fl89d6d2-00db-8ab5-c332-882575f25425"},property:"color"}},pipe:{"fw8jd6d2-00db-8ab5-c332-882575f25426":{type:"text",value:"Number currently is: ",transformations:[{ref:"join",id:"p9s3d6d2-00db-8ab5-c332-882575f25426"},{ref:"join",id:"8a6cd6d2-00db-8ab5-c332-882575f25426"}]},"um5ed6d2-00db-8ab5-c332-882575f25426":{type:"text",value:{ref:"state",id:"46vdd6d2-00db-8ab5-c332-882575f25426"},transformations:[{ref:"toText",id:"7bs9d6d2-00db-8ab5-c332-882575f25426"}]},"ui8jd6d2-00db-8ab5-c332-882575f25426":{type:"text",value:"+",transformations:[]},"c8wed6d2-00db-8ab5-c332-882575f25426":{type:"text",value:"-",transformations:[]},"pdq6d6d2-00db-8ab5-c332-882575f25426":{type:"number",value:{ref:"state",id:"46vdd6d2-00db-8ab5-c332-882575f25426"},transformations:[{ref:"add",id:"w86fd6d2-00db-8ab5-c332-882575f25426"}]},"452qd6d2-00db-8ab5-c332-882575f25426":{type:"number",value:{ref:"state",id:"46vdd6d2-00db-8ab5-c332-882575f25426"},transformations:[{ref:"subtract",id:"u43wd6d2-00db-8ab5-c332-882575f25426"}]},"ew83d6d2-00db-8ab5-c332-882575f25426":{type:"number",value:1,transformations:[]},"w3e9d6d2-00db-8ab5-c332-882575f25426":{type:"number",value:1,transformations:[]},"3qkid6d2-00db-8ab5-c332-882575f25426":{type:"text",value:0,transformations:[{ref:"add",id:"wbr7d6d2-00db-8ab5-c332-882575f25426"},{ref:"toText",id:"noop"},{ref:"join",id:"s258d6d2-00db-8ab5-c332-882575f25426"}]},"t7vqd6d2-00db-8ab5-c332-882575f25426":{type:"text",value:0,transformations:[{ref:"add",id:"vq8dd6d2-00db-8ab5-c332-882575f25426"},{ref:"toText",id:"noop"},{ref:"join",id:"wf9ad6d2-00db-8ab5-c332-882575f25426"}]},"7dbvd6d2-00db-8ab5-c332-882575f25426":{type:"text",value:{ref:"listValue",id:"hj9wd6d2-00db-8ab5-c332-882575f25426"},transformations:[]},"8d4vd6d2-00db-8ab5-c332-882575f25426":{type:"text",value:{ref:"listValue",id:"pz7hd6d2-00db-8ab5-c332-882575f25426"},transformations:[]},"8cq6b6d2-00db-8ab5-c332-882575f25426":{type:"text",value:{ref:"listValue",id:"hhr8b6d2-00db-8ab5-c332-882575f25426"},transformations:[]},"f9qxd6d2-00db-8ab5-c332-882575f25426":{type:"table",value:{ref:"state",id:"c8q9d6d2-00db-8ab5-c332-882575f25426"},transformations:[]},"qww9d6d2-00db-8ab5-c332-882575f25426":{type:"text",value:"px",transformations:[]},"qdw7c6d2-00db-8ab5-c332-882575f25426":{type:"text",value:"px",transformations:[]},"84369aba-4a4d-4932-8a9a-8f9ca948b6a2":{type:"text",value:"The number is even ",transformations:[]},"c2fb9a9b-25bb-4e8b-80c0-cf51b8506070":{type:"boolean",value:{ref:"state",id:"46vdd6d2-00db-8ab5-c332-882575f25426"},transformations:[{ref:"remainder",id:"34780d22-f521-4c30-89a5-3e7f5b5af7c2"},{ref:"equal",id:"a7251af0-50a7-4823-85a0-66ce09d8a3cc"}]},"1229d478-bc25-4401-8a89-74fc6cfe8996":{type:"number",value:2,transformations:[]},"ee2423e6-5b48-41ae-8ccf-6a2c7b46d2f8":{type:"number",value:0,transformations:[]},"945f0818-7743-4edd-8c76-3dd5a8ba7fa9":{type:"text",value:"'Comfortaa', cursive",transformations:[]},"a60899ee-9925-4e05-890e-b9428b02dbf9":{type:"text",value:"#f5f5f5",transformations:[]},"1e465403-5382-4a45-89da-8d88e2eb2fb9":{type:"text",value:"100%",transformations:[]},"ef2ec184-199f-4ee8-8e30-b99dbc1df5db":{type:"text",value:"10px",transformations:[]},"fab286c4-ded3-4a5e-8749-7678abcbb125":{type:"text",value:"10px 5px",transformations:[]},"703f8e02-c5c3-4d27-8ca2-722c4d0d1ea0":{type:"text",value:"10px 15px",transformations:[]},"8f3c6630-d8d9-4bc1-8a3d-ba4dad3091f0":{type:"text",value:"#aaaaaa",transformations:[]},"d31c4746-2329-4404-8689-fbf2393efd44":{type:"text",value:"inline-block",transformations:[]},"41685adc-3793-4566-8f61-2c2a42fdf86e":{type:"text",value:"5px",transformations:[]},"d5754fdb-4689-4f87-87fc-51d60022b32c":{type:"text",value:"3px",transformations:[]},"0bc6a18c-1766-42bd-8b4a-202a2b0c34fe":{type:"text",value:"pointer",transformations:[]},"9b250ef8-c1be-4706-8a71-f444f18f0f82":{type:"text",value:"none",transformations:[]},"b0a10497-ec26-4ff7-8739-a193755cbcae":{type:"text",value:"10px 5px",transformations:[]},"8764e258-599d-4252-8112-d06fcd0d5e2a":{type:"text",value:"10px 15px",transformations:[]},"8caaf876-10bc-47de-89d9-869c892cd4ce":{type:"text",value:"#999999",transformations:[]},"ae987bba-734a-46ae-8c82-c04896221179":{type:"text",value:"inline-block",transformations:[]},"f0090f8d-87b4-4d83-8a53-039b21e2b594":{type:"text",value:"5px",transformations:[]},"b7c791a6-2c91-4b62-8820-dbaaf9d5c179":{type:"text",value:"3px",transformations:[]},"d795a510-ccf9-4d92-81ee-5e512b81ee58":{type:"text",value:"pointer",transformations:[]},"7518524a-0bc2-465c-814e-0a5d39de25e3":{type:"text",value:"10px 5px",transformations:[]},"b24b1c18-8a82-4c8f-8180-6d062c78c9d9":{type:"text",value:"none",transformations:[]},"67f70d97-a346-42e4-833f-6eaeaeed4fef":{type:"text",value:"10px 10px 10px 0",transformations:[]},"98257461-928e-4ff9-8ac5-0b89298e4ef1":{type:"text",value:"10px 10px 10px 0",transformations:[]},"9931fe6a-074e-4cb7-8355-c18d818679a7":{type:"text",value:"10px",transformations:[]},"72b559e9-2546-4bae-8a61-555567363b11":{type:"text",value:"right",transformations:[]},"30f8c701-7adf-4398-862e-55372e29c14d":{type:"text",value:"50px",transformations:[]},"6635dbb2-b364-4efd-8061-26432007eb1a":{type:"text",value:"right",transformations:[]},"042ccf7d-819b-4fac-8282-2f19069b5386":{type:"text",value:"500px",transformations:[]},"e7bc6e20-1510-4bac-859f-04ec3dcda66b":{type:"text",value:"1.5",transformations:[]},"ef8dc9c6-f333-4b61-8d25-d36afe517520":{type:"text",value:"10px",transformations:[]},"755a70a2-d181-4faf-8593-5ab7601158f9":{type:"text",value:"block",transformations:[]},"9f501c35-54b3-4c60-8fc4-d6a45e776eb3":{type:"text",value:"10px",transformations:[]},"e8acc6b0-d1de-443b-8128-df6b5186f70c":{type:"text",value:"block",transformations:[]},"71764362-e09a-4412-8fbc-ed3cb4d4c954":{type:"text",value:"10px",transformations:[]},"c199b191-88d2-463d-8564-1ce1a1631b2d":{type:"text",value:"block",transformations:[]},"b2117e6b-ace7-4e75-8e7d-323668d1b19d":{type:"text",value:"10px",transformations:[]},"8a53848d-8c7d-44dc-8d13-ae060107c80b":{type:"text",value:"block",transformations:[]},"1906b5b4-6024-48f1-84da-c332e555afb3":{type:"text",value:"10px",transformations:[]},"a565696d-8a60-416e-844a-60c8f2fe8c5a":{type:"text",value:"block",transformations:[]},"15d47b07-396c-4c03-8591-f472598f15e2":{type:"text",value:"10px",transformations:[]},"a8f5c1ce-783b-4626-826a-473ab434c0b2":{type:"text",value:"10px",transformations:[]},"a9cw9a9b-25bb-4e8b-80c0-cf51b8506070":{type:"text",value:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Schonach_-_Paradies_-_Sonnenaufgang.jpg/1280px-Schonach_-_Paradies_-_Sonnenaufgang.jpg",transformations:[]},"d1314274-5efc-4be1-830b-0ff8c92b5029":{type:"text",value:"block",transformations:[]},"9qc84274-5efc-4be1-830b-0ff8c92b5029":{type:"text",value:"",transformations:[]}},join:{"p9s3d6d2-00db-8ab5-c332-882575f25426":{value:{ref:"pipe",id:"um5ed6d2-00db-8ab5-c332-882575f25426"}},"wf9ad6d2-00db-8ab5-c332-882575f25426":{value:{ref:"pipe",id:"qww9d6d2-00db-8ab5-c332-882575f25426"}},"s258d6d2-00db-8ab5-c332-882575f25426":{value:{ref:"pipe",id:"qdw7c6d2-00db-8ab5-c332-882575f25426"}},"8a6cd6d2-00db-8ab5-c332-882575f25426":{value:{ref:"pipe",id:"9qc84274-5efc-4be1-830b-0ff8c92b5029"}}},add:{"w86fd6d2-00db-8ab5-c332-882575f25426":{value:{ref:"pipe",id:"ew83d6d2-00db-8ab5-c332-882575f25426"}},"wbr7d6d2-00db-8ab5-c332-882575f25426":{value:{ref:"pipe",id:"8d4vd6d2-00db-8ab5-c332-882575f25426"}},"vq8dd6d2-00db-8ab5-c332-882575f25426":{value:{ref:"pipe",id:"7dbvd6d2-00db-8ab5-c332-882575f25426"}}},subtract:{"u43wd6d2-00db-8ab5-c332-882575f25426":{value:{ref:"pipe",id:"w3e9d6d2-00db-8ab5-c332-882575f25426"}}},remainder:{"34780d22-f521-4c30-89a5-3e7f5b5af7c2":{value:{ref:"pipe",id:"1229d478-bc25-4401-8a89-74fc6cfe8996"}}},vNodeBox:{_rootNode:{title:"app",style:{ref:"style",id:"_rootStyle"},children:[{ref:"vNodeText",id:"2471d6d2-00db-8ab5-c332-882575f25425"},{ref:"vNodeText",id:"1481d6d2-00db-8ab5-c332-882575f25425"},{ref:"vNodeText",id:"3481d6d2-00db-8ab5-c332-882575f25425"},{ref:"vNodeIf",id:"5787c15a-426b-41eb-831d-e3e074159582"},{ref:"vNodeImage",id:"sd8vc15a-426b-41eb-831d-e3e074159582"},{ref:"vNodeList",id:"fl89d6d2-00db-8ab5-c332-882575f25425"}]},"gw9dd6d2-00db-8ab5-c332-882575f25426":{title:"box",style:{ref:"style",id:"fq9dd6d2-00db-8ab5-c332-882575f25426"},children:[]}},vNodeText:{"2471d6d2-00db-8ab5-c332-882575f25425":{title:"Number currently",style:{ref:"style",id:"8481d6d2-00db-8ab5-c332-882575f25426"},value:{ref:"pipe",id:"fw8jd6d2-00db-8ab5-c332-882575f25426"}},"1481d6d2-00db-8ab5-c332-882575f25425":{title:"+ button",value:{ref:"pipe",id:"ui8jd6d2-00db-8ab5-c332-882575f25426"},style:{ref:"style",id:"9481d6d2-00db-8ab5-c332-882575f25426"},click:{ref:"event",id:"d48rd6d2-00db-8ab5-c332-882575f25426"}},"3481d6d2-00db-8ab5-c332-882575f25425":{title:"- button",value:{ref:"pipe",id:"c8wed6d2-00db-8ab5-c332-882575f25426"},style:{ref:"style",id:"7481d6d2-00db-8ab5-c332-882575f25426"},click:{ref:"event",id:"3a54d6d2-00db-8ab5-c332-882575f25426"}},"e8add1c7-8a01-4164-8604-722d8ab529f1":{title:"is even",style:{ref:"style",id:"4dca73b3-90eb-41e7-8651-2bdcc93f3871"},value:{ref:"pipe",id:"84369aba-4a4d-4932-8a9a-8f9ca948b6a2"}}},vNodeInput:{},vNodeList:{"fl89d6d2-00db-8ab5-c332-882575f25425":{title:"list of boxes",value:{ref:"pipe",id:"f9qxd6d2-00db-8ab5-c332-882575f25426"},children:[{ref:"vNodeBox",id:"gw9dd6d2-00db-8ab5-c332-882575f25426"}]}},vNodeIf:{"5787c15a-426b-41eb-831d-e3e074159582":{title:"is number even",value:{ref:"pipe",id:"c2fb9a9b-25bb-4e8b-80c0-cf51b8506070"},children:[{ref:"vNodeText",id:"e8add1c7-8a01-4164-8604-722d8ab529f1"}]}},vNodeImage:{"sd8vc15a-426b-41eb-831d-e3e074159582":{title:"hills",src:{ref:"pipe",id:"a9cw9a9b-25bb-4e8b-80c0-cf51b8506070"},style:{ref:"style",id:"wf8d73b3-90eb-41e7-8651-2bdcc93f3871"}}},style:{_rootStyle:{fontFamily:{ref:"pipe",id:"945f0818-7743-4edd-8c76-3dd5a8ba7fa9"},background:{ref:"pipe",id:"a60899ee-9925-4e05-890e-b9428b02dbf9"},minHeight:{ref:"pipe",id:"1e465403-5382-4a45-89da-8d88e2eb2fb9"}},"8481d6d2-00db-8ab5-c332-882575f25426":{padding:{ref:"pipe",id:"ef2ec184-199f-4ee8-8e30-b99dbc1df5db"},margin:{ref:"pipe",id:"fab286c4-ded3-4a5e-8749-7678abcbb125"}},"9481d6d2-00db-8ab5-c332-882575f25426":{padding:{ref:"pipe",id:"703f8e02-c5c3-4d27-8ca2-722c4d0d1ea0"},background:{ref:"pipe",id:"8f3c6630-d8d9-4bc1-8a3d-ba4dad3091f0"},display:{ref:"pipe",id:"d31c4746-2329-4404-8689-fbf2393efd44"},borderRadius:{ref:"pipe",id:"d5754fdb-4689-4f87-87fc-51d60022b32c"},cursor:{ref:"pipe",id:"0bc6a18c-1766-42bd-8b4a-202a2b0c34fe"},userSelect:{ref:"pipe",id:"9b250ef8-c1be-4706-8a71-f444f18f0f82"},margin:{ref:"pipe",id:"b0a10497-ec26-4ff7-8739-a193755cbcae"}},"7481d6d2-00db-8ab5-c332-882575f25426":{padding:{ref:"pipe",id:"8764e258-599d-4252-8112-d06fcd0d5e2a"},background:{ref:"pipe",id:"8caaf876-10bc-47de-89d9-869c892cd4ce"},display:{ref:"pipe",id:"ae987bba-734a-46ae-8c82-c04896221179"},borderRadius:{ref:"pipe",id:"b7c791a6-2c91-4b62-8820-dbaaf9d5c179"},cursor:{ref:"pipe",id:"d795a510-ccf9-4d92-81ee-5e512b81ee58"},margin:{ref:"pipe",id:"7518524a-0bc2-465c-814e-0a5d39de25e3"}},"8092ac5e-dfd0-4492-a65d-8ac3eec325e0":{padding:{ref:"pipe",id:"67f70d97-a346-42e4-833f-6eaeaeed4fef"}},"a9461e28-7d92-49a0-9001-23d74e4b382d":{padding:{ref:"pipe",id:"98257461-928e-4ff9-8ac5-0b89298e4ef1"}},"766b11ec-da27-494c-b272-c26fec3f6475":{padding:{ref:"pipe",id:"9931fe6a-074e-4cb7-8355-c18d818679a7"},float:{ref:"pipe",id:"72b559e9-2546-4bae-8a61-555567363b11"},textAlign:{ref:"pipe",id:"6635dbb2-b364-4efd-8061-26432007eb1a"},maxWidth:{ref:"pipe",id:"042ccf7d-819b-4fac-8282-2f19069b5386"}},"cbcd8edb-4aa2-43fe-ad39-cee79b490295":{padding:{ref:"pipe",id:"ef8dc9c6-f333-4b61-8d25-d36afe517520"},display:{ref:"pipe",id:"755a70a2-d181-4faf-8593-5ab7601158f9"}},"6763f102-23f7-4390-b463-4e1b14e866c9":{padding:{ref:"pipe",id:"9f501c35-54b3-4c60-8fc4-d6a45e776eb3"},display:{ref:"pipe",id:"e8acc6b0-d1de-443b-8128-df6b5186f70c"}},"91c9adf0-d62e-4580-93e7-f39594ae5e7d":{padding:{ref:"pipe",id:"71764362-e09a-4412-8fbc-ed3cb4d4c954"},display:{ref:"pipe",id:"c199b191-88d2-463d-8564-1ce1a1631b2d"}},"e9fbeb39-7193-4522-91b3-761bd35639d3":{padding:{ref:"pipe",id:"b2117e6b-ace7-4e75-8e7d-323668d1b19d"},display:{ref:"pipe",id:"8a53848d-8c7d-44dc-8d13-ae060107c80b"}},"3cf5d89d-3703-483e-ab64-5a5b780aec27":{padding:{ref:"pipe",id:"1906b5b4-6024-48f1-84da-c332e555afb3"},display:{ref:"pipe",id:"a565696d-8a60-416e-844a-60c8f2fe8c5a"}},"fq9dd6d2-00db-8ab5-c332-882575f25426":{padding:{ref:"pipe",id:"15d47b07-396c-4c03-8591-f472598f15e2"},width:{ref:"pipe",id:"3qkid6d2-00db-8ab5-c332-882575f25426"},height:{ref:"pipe",id:"t7vqd6d2-00db-8ab5-c332-882575f25426"},background:{ref:"pipe",id:"8cq6b6d2-00db-8ab5-c332-882575f25426"}},"4dca73b3-90eb-41e7-8651-2bdcc93f3871":{padding:{ref:"pipe",id:"a8f5c1ce-783b-4626-826a-473ab434c0b2"}},"wf8d73b3-90eb-41e7-8651-2bdcc93f3871":{display:{ref:"pipe",id:"d1314274-5efc-4be1-830b-0ff8c92b5029"}}},nameSpace:{_rootNameSpace:{title:"state",children:[{ref:"state",id:"46vdd6d2-00db-8ab5-c332-882575f25426"},{ref:"state",id:"c8q9d6d2-00db-8ab5-c332-882575f25426"}]}},state:{"46vdd6d2-00db-8ab5-c332-882575f25426":{title:"number",ref:"46vdd6d2-00db-8ab5-c332-882575f25426",type:"number",defaultValue:0,mutators:[{ref:"mutator",id:"as55d6d2-00db-8ab5-c332-882575f25426"},{ref:"mutator",id:"9dq8d6d2-00db-8ab5-c332-882575f25426"}]},"c8q9d6d2-00db-8ab5-c332-882575f25426":{title:"tiles",ref:"c8q9d6d2-00db-8ab5-c332-882575f25426",type:"table",definition:{x:"number",y:"number",color:"text"},defaultValue:{"ops6d6d2-00db-8ab5-c332-882575f25426":{x:120,y:100,color:"#eab65c"},"wpv5d6d2-00db-8ab5-c332-882575f25426":{x:200,y:120,color:"#53B2ED"},"qn27d6d2-00db-8ab5-c332-882575f25426":{x:130,y:200,color:"#5bcc5b"},"ca9rd6d2-00db-8ab5-c332-882575f25426":{x:150,y:150,color:"#4d4d4d"}},mutators:[]}},mutator:{"as55d6d2-00db-8ab5-c332-882575f25426":{event:{ref:"event",id:"d48rd6d2-00db-8ab5-c332-882575f25426"},state:{ref:"state",id:"46vdd6d2-00db-8ab5-c332-882575f25426"},mutation:{ref:"pipe",id:"pdq6d6d2-00db-8ab5-c332-882575f25426"}},"9dq8d6d2-00db-8ab5-c332-882575f25426":{event:{ref:"event",id:"3a54d6d2-00db-8ab5-c332-882575f25426"},state:{ref:"state",id:"46vdd6d2-00db-8ab5-c332-882575f25426"},mutation:{ref:"pipe",id:"452qd6d2-00db-8ab5-c332-882575f25426"}}},event:{"d48rd6d2-00db-8ab5-c332-882575f25426":{type:"click",mutators:[{ref:"mutator",id:"as55d6d2-00db-8ab5-c332-882575f25426"}],emitter:{ref:"vNodeText",id:"1481d6d2-00db-8ab5-c332-882575f25425"},data:[]},"3a54d6d2-00db-8ab5-c332-882575f25426":{type:"click",mutators:[{ref:"mutator",id:"9dq8d6d2-00db-8ab5-c332-882575f25426"}],emitter:{ref:"vNodeText",id:"3481d6d2-00db-8ab5-c332-882575f25425"},data:[]}}}},{}]},{},[13]);
